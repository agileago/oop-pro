import{d as Y,i as _,c as p,aL as Yl,Y as re,G as $e,af as yt,aM as gl,an as yl,_ as ne,g as X,s as pe,o as T,a as J,b as H,n as _e,f as ie,v as ze,aj as $l,l as h,y as Ce,z as Se,F as Pe,a0 as _l,h as te,K as G,ao as Jl,X as $t,I as nl,J as Pl,q as se,e as Q,m as ae,x as L,L as le,ab as _t,t as ce,ah as Be,a7 as Xl,a8 as Ql,aN as Cl,a9 as ke,u as et,Z as Ct,j as Ie,k as lt,C as xe,W as We,a1 as me,p as tt,aO as St,r as wt,ag as bl,aP as Ge,O as Sl,P as wl,N as Fe,aQ as nt,aF as Ot,aK as at,w as Vt,aR as kt,ak as Bt}from"./index-7ac1039f.js";import{m as Pt,f as It,R as zt,C as Rt,T as Ue,b as Et,E as ot,o as rt,D as ut,F as it,H as Tt,y as jt,a as Dt}from"./index-5f5a8314.js";import{B as Mt,c as At,u as qe,a as Ze}from"./index-a516285d.js";var Ft=Y({name:"ResizeObserver",emits:["resize"],setup(e,{emit:l,slots:t}){let n;const u=_(),r=p(()=>Yl(u.value)?u.value.$el:u.value),o=s=>{s&&(n=new Pt(f=>{const d=f[0];l("resize",d)}),n.observe(s))},a=()=>{n&&(n.disconnect(),n=null)};return re(r,s=>{n&&a(),s&&o(s)}),$e(()=>{r.value&&o(r.value)}),yt(()=>{a()}),()=>{var s,f;const d=gl((f=(s=t.default)==null?void 0:s.call(t))!=null?f:[]);return d?yl(d,{ref:u},!0):null}}});const Nt=Y({name:"IconEmpty",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},emits:{click:e=>!0},setup(e,{emit:l}){const t=X("icon"),n=p(()=>[t,"".concat(t,"-empty"),{["".concat(t,"-spin")]:e.spin}]),u=p(()=>{const o={};return e.size&&(o.fontSize=pe(e.size)?"".concat(e.size,"px"):e.size),e.rotate&&(o.transform="rotate(".concat(e.rotate,"deg)")),o});return{cls:n,innerStyle:u,onClick:o=>{l("click",o)}}}}),Lt=["stroke-width","stroke-linecap","stroke-linejoin"],Ht=ie("path",{d:"M24 5v6m7 1 4-4m-18 4-4-4m28.5 22H28s-1 3-4 3-4-3-4-3H6.5M40 41H8a2 2 0 0 1-2-2v-8.46a2 2 0 0 1 .272-1.007l6.15-10.54A2 2 0 0 1 14.148 18H33.85a2 2 0 0 1 1.728.992l6.149 10.541A2 2 0 0 1 42 30.541V39a2 2 0 0 1-2 2Z"},null,-1),Kt=[Ht];function xt(e,l,t,n,u,r){return T(),J("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:H(e.cls),style:_e(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin,onClick:l[0]||(l[0]=(...o)=>e.onClick&&e.onClick(...o))},Kt,14,Lt)}var al=ne(Nt,[["render",xt]]);const Wt=Object.assign(al,{install:(e,l)=>{var t;const n=(t=l==null?void 0:l.iconPrefix)!=null?t:"";e.component(n+al.name,al)}});var ol=Y({name:"Empty",props:{description:String,imgSrc:String,inConfigProvider:{type:Boolean,default:!1}},setup(e,{slots:l}){const t=X("empty"),{t:n}=It(),u=ze($l,void 0);return()=>{var r,o,a,s;return!e.inConfigProvider&&(u!=null&&u.slots.empty)&&!(l.image||e.imgSrc||e.description)?u.slots.empty({component:"empty"}):h("div",{class:t},[h("div",{class:"".concat(t,"-image")},[(o=(r=l.image)==null?void 0:r.call(l))!=null?o:e.imgSrc?h("img",{src:e.imgSrc,alt:e.description||"empty"},null):h(Wt,null,null)]),h("div",{class:"".concat(t,"-description")},[(s=(a=l.default)==null?void 0:a.call(l))!=null?s:e.description||n("empty.description")])])}}});const st=Object.assign(ol,{install:(e,l)=>{Ce(e,l);const t=Se(l);e.component(t+ol.name,ol)}}),Gt=5;var Ut=Y({name:"DotLoading",props:{size:{type:Number}},setup(e){const l=X("dot-loading");return()=>{const t=e.size?{width:"".concat(e.size,"px"),height:"".concat(e.size,"px")}:{};return h("div",{class:l,style:{width:e.size?"".concat(e.size*7,"px"):void 0,height:e.size?"".concat(e.size,"px"):void 0}},[Array(Gt).fill(1).map((n,u)=>h("div",{class:"".concat(l,"-item"),key:u,style:t},null))])}}}),rl=Y({name:"Spin",props:{size:{type:Number},loading:Boolean,dot:Boolean,tip:String,hideIcon:{type:Boolean,default:!1}},setup(e,{slots:l}){const t=X("spin"),n=ze($l,void 0),u=p(()=>[t,{["".concat(t,"-loading")]:e.loading,["".concat(t,"-with-tip")]:e.tip&&!l.default}]),r=()=>{if(l.icon){const a=gl(l.icon());if(a)return yl(a,{spin:!0})}return l.element?l.element():e.dot?h(Ut,{size:e.size},null):n!=null&&n.slots.loading?n.slots.loading():h(_l,{spin:!0,size:e.size},null)},o=()=>{var a,s,f;const d=e.size?{fontSize:"".concat(e.size,"px")}:void 0,V=!!((a=l.tip)!=null?a:e.tip);return h(Pe,null,[!e.hideIcon&&h("div",{class:"".concat(t,"-icon"),style:d},[r()]),V&&h("div",{class:"".concat(t,"-tip")},[(f=(s=l.tip)==null?void 0:s.call(l))!=null?f:e.tip])])};return()=>h("div",{class:u.value},[l.default?h(Pe,null,[l.default(),e.loading&&h("div",{class:"".concat(t,"-mask")},[h("div",{class:"".concat(t,"-mask-icon")},[o()])])]):o()])}});const qt=Object.assign(rl,{install:(e,l)=>{Ce(e,l);const t=Se(l);e.component(t+rl.name,rl)}}),Zt=Y({name:"Thumb",props:{data:{type:Object},direction:{type:String,default:"horizontal"},alwaysShow:{type:Boolean,default:!1},both:{type:Boolean,default:!1}},emits:["scroll"],setup(e,{emit:l}){const t=X("scrollbar"),n=_(!1),u=_(),r=_(),o=p(()=>e.direction==="horizontal"?{size:"width",direction:"left",offset:"offsetWidth",client:"clientX"}:{size:"height",direction:"top",offset:"offsetHeight",client:"clientY"}),a=_(0),s=_(!1),f=_(0),d=p(()=>{var k,m;return{[o.value.size]:"".concat((m=(k=e.data)==null?void 0:k.thumbSize)!=null?m:0,"px"),[o.value.direction]:"".concat(a.value,"px")}}),V=k=>{k.preventDefault(),r.value&&(f.value=k[o.value.client]-r.value.getBoundingClientRect()[o.value.direction],s.value=!0,nl(window,"mousemove",j),nl(window,"mouseup",D),nl(window,"contextmenu",D))},C=k=>{var m,y,R,c;if(k.preventDefault(),r.value){const v=w(k[o.value.client]>r.value.getBoundingClientRect()[o.value.direction]?a.value+((y=(m=e.data)==null?void 0:m.thumbSize)!=null?y:0):a.value-((c=(R=e.data)==null?void 0:R.thumbSize)!=null?c:0));v!==a.value&&(a.value=v,l("scroll",v))}},w=k=>k<0?0:e.data&&k>e.data.max?e.data.max:k,j=k=>{if(u.value&&r.value){const m=w(k[o.value.client]-u.value.getBoundingClientRect()[o.value.direction]-f.value);m!==a.value&&(a.value=m,l("scroll",m))}},D=()=>{s.value=!1,Pl(window,"mousemove",j),Pl(window,"mouseup",D)},B=k=>{s.value||(k=w(k),k!==a.value&&(a.value=k))},K=p(()=>["".concat(t,"-thumb"),"".concat(t,"-thumb-direction-").concat(e.direction),{["".concat(t,"-thumb-dragging")]:s.value}]);return{visible:n,trackRef:u,thumbRef:r,prefixCls:t,thumbCls:K,thumbStyle:d,handleThumbMouseDown:V,handleTrackClick:C,setOffset:B}}});function Yt(e,l,t,n,u,r){return T(),te($t,null,{default:G(()=>[ie("div",{ref:"trackRef",class:H(["".concat(e.prefixCls,"-track"),"".concat(e.prefixCls,"-track-direction-").concat(e.direction)]),onMousedown:l[1]||(l[1]=Jl((...o)=>e.handleTrackClick&&e.handleTrackClick(...o),["self"]))},[ie("div",{ref:"thumbRef",class:H(e.thumbCls),style:_e(e.thumbStyle),onMousedown:l[0]||(l[0]=(...o)=>e.handleThumbMouseDown&&e.handleThumbMouseDown(...o))},[ie("div",{class:H("".concat(e.prefixCls,"-thumb-bar"))},null,2)],38)],34)]),_:1})}var Jt=ne(Zt,[["render",Yt]]);const Il=20,De=15,Xt=Y({name:"Scrollbar",components:{ResizeObserver:zt,Thumb:Jt},inheritAttrs:!1,props:{type:{type:String,default:"embed"},outerClass:[String,Object,Array],outerStyle:{type:[String,Object,Array]},hide:{type:Boolean,default:!1},disableHorizontal:{type:Boolean,default:!1},disableVertical:{type:Boolean,default:!1}},emits:{scroll:e=>!0},setup(e,{emit:l}){const t=X("scrollbar"),n=_(),u=_(),r=_(),o=_(),a=_(),s=_(!1),f=_(!1),d=p(()=>s.value&&!e.disableHorizontal),V=p(()=>f.value&&!e.disableVertical),C=_(!1),w=()=>{var y,R,c,v,P,E;if(n.value){const{clientWidth:O,clientHeight:$,offsetWidth:F,offsetHeight:N,scrollWidth:M,scrollHeight:I,scrollTop:U,scrollLeft:x}=n.value;s.value=M>O,f.value=I>$,C.value=d.value&&V.value;const q=e.type==="embed"&&C.value?F-De:F,ee=e.type==="embed"&&C.value?N-De:N,fe=Math.round(q/Math.min(M/O,q/Il)),de=q-fe,oe=(M-O)/de,we=Math.round(ee/Math.min(I/$,ee/Il)),be=ee-we,ue=(I-$)/be;if(u.value={ratio:oe,thumbSize:fe,max:de},r.value={ratio:ue,thumbSize:we,max:be},U>0){const he=Math.round(U/((R=(y=r.value)==null?void 0:y.ratio)!=null?R:1));(c=a.value)==null||c.setOffset(he)}if(x>0){const he=Math.round(x/((P=(v=r.value)==null?void 0:v.ratio)!=null?P:1));(E=o.value)==null||E.setOffset(he)}}};$e(()=>{w()});const j=()=>{w()},D=y=>{var R,c,v,P,E,O;if(n.value){if(d.value&&!e.disableHorizontal){const $=Math.round(n.value.scrollLeft/((c=(R=u.value)==null?void 0:R.ratio)!=null?c:1));(v=o.value)==null||v.setOffset($)}if(V.value&&!e.disableVertical){const $=Math.round(n.value.scrollTop/((E=(P=r.value)==null?void 0:P.ratio)!=null?E:1));(O=a.value)==null||O.setOffset($)}}l("scroll",y)},B=y=>{var R,c;n.value&&n.value.scrollTo({left:y*((c=(R=u.value)==null?void 0:R.ratio)!=null?c:1)})},K=y=>{var R,c;n.value&&n.value.scrollTo({top:y*((c=(R=r.value)==null?void 0:R.ratio)!=null?c:1)})},k=p(()=>{const y={};return e.type==="track"&&(d.value&&(y.paddingBottom="".concat(De,"px")),V.value&&(y.paddingRight="".concat(De,"px"))),[y,e.outerStyle]}),m=p(()=>["".concat(t),"".concat(t,"-type-").concat(e.type),{["".concat(t,"-both")]:C.value},e.outerClass]);return{prefixCls:t,cls:m,style:k,containerRef:n,horizontalThumbRef:o,verticalThumbRef:a,horizontalData:u,verticalData:r,isBoth:C,hasHorizontalScrollbar:d,hasVerticalScrollbar:V,handleResize:j,handleScroll:D,handleHorizontalScroll:B,handleVerticalScroll:K}},methods:{scrollTo(e,l){var t,n;se(e)?(t=this.$refs.containerRef)==null||t.scrollTo(e):(e||l)&&((n=this.$refs.containerRef)==null||n.scrollTo(e,l))},scrollTop(e){var l;(l=this.$refs.containerRef)==null||l.scrollTo({top:e})},scrollLeft(e){var l;(l=this.$refs.containerRef)==null||l.scrollTo({left:e})}}});function Qt(e,l,t,n,u,r){const o=Q("ResizeObserver"),a=Q("thumb");return T(),J("div",{class:H(e.cls),style:_e(e.style)},[h(o,{onResize:e.handleResize},{default:G(()=>[ie("div",ae({ref:"containerRef",class:"".concat(e.prefixCls,"-container")},e.$attrs,{onScroll:l[0]||(l[0]=(...s)=>e.handleScroll&&e.handleScroll(...s))}),[h(o,{onResize:e.handleResize},{default:G(()=>[L(e.$slots,"default")]),_:3},8,["onResize"])],16)]),_:3},8,["onResize"]),!e.hide&&e.hasHorizontalScrollbar?(T(),te(a,{key:0,ref:"horizontalThumbRef",data:e.horizontalData,direction:"horizontal",both:e.isBoth,onScroll:e.handleHorizontalScroll},null,8,["data","both","onScroll"])):le("v-if",!0),!e.hide&&e.hasVerticalScrollbar?(T(),te(a,{key:1,ref:"verticalThumbRef",data:e.verticalData,direction:"vertical",both:e.isBoth,onScroll:e.handleVerticalScroll},null,8,["data","both","onScroll"])):le("v-if",!0)],6)}var ul=ne(Xt,[["render",Qt]]);const ct=Object.assign(ul,{install:(e,l)=>{Ce(e,l);const t=Se(l);e.component(t+ul.name,ul)}}),en=e=>{const l=_(),t=()=>Yl(l.value)?l.value.$refs[e]:l.value,n=_();return $e(()=>{n.value=t()}),re([l],()=>{n.value=t()}),{componentRef:l,elementRef:n}};var ln=Object.defineProperty,zl=Object.getOwnPropertySymbols,tn=Object.prototype.hasOwnProperty,nn=Object.prototype.propertyIsEnumerable,Rl=(e,l,t)=>l in e?ln(e,l,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[l]=t,an=(e,l)=>{for(var t in l||(l={}))tn.call(l,t)&&Rl(e,t,l[t]);if(zl)for(var t of zl(l))nn.call(l,t)&&Rl(e,t,l[t]);return e};const on=e=>{const l=p(()=>!!e.value),t=p(()=>{if(e.value)return an({type:"embed"},_t(e.value)?void 0:e.value)});return{displayScrollbar:l,scrollbarProps:t}},rn=Y({name:"SelectDropdown",components:{ScrollbarComponent:ct,Empty:st,Spin:qt},props:{loading:Boolean,empty:Boolean,virtualList:Boolean,bottomOffset:{type:Number,default:0},scrollbar:{type:[Boolean,Object],default:!0},onScroll:{type:[Function,Array]},onReachBottom:{type:[Function,Array]},showHeaderOnEmpty:{type:Boolean,default:!1},showFooterOnEmpty:{type:Boolean,default:!1}},emits:["scroll","reachBottom"],setup(e,{emit:l,slots:t}){var n,u,r;const{scrollbar:o}=ce(e),a=X("select-dropdown"),s=ze($l,void 0),f=(r=(u=s==null?void 0:(n=s.slots).empty)==null?void 0:u.call(n,{component:"select"}))==null?void 0:r[0],{componentRef:d,elementRef:V}=en("containerRef"),{displayScrollbar:C,scrollbarProps:w}=on(o),j=B=>{const{scrollTop:K,scrollHeight:k,offsetHeight:m}=B.target;k-(K+m)<=e.bottomOffset&&l("reachBottom",B),l("scroll",B)},D=p(()=>[a,{["".concat(a,"-has-header")]:!!t.header,["".concat(a,"-has-footer")]:!!t.footer}]);return{prefixCls:a,SelectEmpty:f,cls:D,wrapperRef:V,wrapperComRef:d,handleScroll:j,displayScrollbar:C,scrollbarProps:w}}});function un(e,l,t,n,u,r){const o=Q("spin");return T(),J("div",{class:H(e.cls)},[e.$slots.header&&(!e.empty||e.showHeaderOnEmpty)?(T(),J("div",{key:0,class:H("".concat(e.prefixCls,"-header"))},[L(e.$slots,"header")],2)):le("v-if",!0),e.loading?(T(),te(o,{key:1,class:H("".concat(e.prefixCls,"-loading"))},null,8,["class"])):e.empty?(T(),J("div",{key:2,class:H("".concat(e.prefixCls,"-empty"))},[L(e.$slots,"empty",{},()=>[(T(),te(Be(e.SelectEmpty?e.SelectEmpty:"Empty")))])],2)):le("v-if",!0),e.virtualList&&!e.loading&&!e.empty?L(e.$slots,"virtual-list",{key:3}):le("v-if",!0),e.virtualList?le("v-if",!0):Xl((T(),te(Be(e.displayScrollbar?"ScrollbarComponent":"div"),ae({key:4,ref:"wrapperComRef",class:"".concat(e.prefixCls,"-list-wrapper")},e.scrollbarProps,{onScroll:e.handleScroll}),{default:G(()=>[ie("ul",{class:H("".concat(e.prefixCls,"-list"))},[L(e.$slots,"default")],2)]),_:3},16,["class","onScroll"])),[[Ql,!e.loading&&!e.empty]]),e.$slots.footer&&(!e.empty||e.showFooterOnEmpty)?(T(),J("div",{key:5,class:H("".concat(e.prefixCls,"-footer"))},[L(e.$slots,"footer")],2)):le("v-if",!0)],2)}var sn=ne(rn,[["render",un]]);const dt=Symbol("ArcoSelectContext");var cn=Object.defineProperty,dn=Object.defineProperties,fn=Object.getOwnPropertyDescriptors,El=Object.getOwnPropertySymbols,pn=Object.prototype.hasOwnProperty,vn=Object.prototype.propertyIsEnumerable,Tl=(e,l,t)=>l in e?cn(e,l,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[l]=t,Ol=(e,l)=>{for(var t in l||(l={}))pn.call(l,t)&&Tl(e,t,l[t]);if(El)for(var t of El(l))vn.call(l,t)&&Tl(e,t,l[t]);return e},ft=(e,l)=>dn(e,fn(l));const mn=e=>se(e)&&"isGroup"in e,pt=e=>se(e)&&"isGroup"in e,bn=(e,l="value")=>String(se(e)?e[l]:e),je=(e,l="value")=>se(e)?"__arco__option__object__".concat(e[l]):e||pe(e)||Cl(e)?"__arco__option__".concat(typeof e,"-").concat(e):"",hn=e=>e.has("__arco__option__string-"),gn=(e,{valueKey:l,fieldNames:t,origin:n,index:u=-1})=>{var r;if(se(e)){const a=e[t.value];return{raw:e,index:u,key:je(a,l),origin:n,value:a,label:(r=e[t.label])!=null?r:bn(a,l),render:e[t.render],disabled:!!e[t.disabled],tagProps:e[t.tagProps]}}const o={value:e,label:String(e),disabled:!1};return Ol({raw:o,index:u,key:je(e,l),origin:n},o)},hl=(e,{valueKey:l,fieldNames:t,origin:n,optionInfoMap:u})=>{var r;const o=[];for(const a of e)if(mn(a)){const s=hl((r=a.options)!=null?r:[],{valueKey:l,fieldNames:t,origin:n,optionInfoMap:u});s.length>0&&o.push(ft(Ol({},a),{key:"__arco__group__".concat(a.label),options:s}))}else{const s=gn(a,{valueKey:l,fieldNames:t,origin:n});o.push(s),u.get(s.key)||u.set(s.key,s)}return o},jl=(e,{inputValue:l,filterOption:t})=>{const n=u=>{var r;const o=[];for(const a of u)if(pt(a)){const s=n((r=a.options)!=null?r:[]);s.length>0&&o.push(ft(Ol({},a),{options:s}))}else Ye(a,{inputValue:l,filterOption:t})&&o.push(a);return o};return n(e)},Ye=(e,{inputValue:l,filterOption:t})=>ke(t)?!l||t(l,e.raw):t?e.label.toLowerCase().includes((l!=null?l:"").toLowerCase()):!0,yn=(e,l)=>{if(!e||!l||e.length!==l.length)return!1;for(const t of Object.keys(e))if(!Vl(e[t],l[t]))return!1;return!0},$n=(e,l)=>{if(!e||!l)return!1;const{length:t}=e;if(t!==l.length)return!1;for(let n=0;n<t;n++)if(!Vl(e[n],l[n]))return!1;return!0},Vl=(e,l)=>{const t=Object.prototype.toString.call(e);return t!==Object.prototype.toString.call(l)?!1:t==="[object Object]"?yn(e,l):t==="[object Array]"?$n(e,l):t==="[object Function]"?e===l?!0:e.toString()===l.toString():e===l},_n=Y({name:"Option",components:{Checkbox:Rt},props:{value:[String,Number,Object],label:String,disabled:Boolean,tagProps:{type:Object},extra:{type:Object},index:{type:Number},internal:Boolean},setup(e){const{disabled:l,tagProps:t,index:n}=ce(e),u=X("select-option"),r=ze(dt,void 0),o=et(),a=_(),s=_(t.value);re(t,(c,v)=>{Vl(c,v)||(s.value=c)});const f=_(""),d=p(()=>{var c,v;return(v=(c=e.value)!=null?c:e.label)!=null?v:f.value}),V=p(()=>{var c;return(c=e.label)!=null?c:f.value}),C=p(()=>je(d.value,r==null?void 0:r.valueKey)),w=p(()=>{var c;return(c=r==null?void 0:r.component)!=null?c:"li"}),j=()=>{var c;if(!e.label&&a.value){const v=(c=a.value.textContent)!=null?c:"";f.value!==v&&(f.value=v)}};$e(()=>j()),Ct(()=>j());const D=p(()=>{var c;return(c=r==null?void 0:r.valueKeys.includes(C.value))!=null?c:!1}),B=p(()=>(r==null?void 0:r.activeKey)===C.value);let K=_(!0);if(!e.internal){const c=Ie({raw:{value:d,label:V,disabled:l,tagProps:s},ref:a,index:n,key:C,origin:"slot",value:d,label:V,disabled:l,tagProps:s});K=p(()=>Ye(c,{inputValue:r==null?void 0:r.inputValue,filterOption:r==null?void 0:r.filterOption})),o&&(r==null||r.addSlotOptionInfo(o.uid,c)),lt(()=>{o&&(r==null||r.removeSlotOptionInfo(o.uid))})}const k=c=>{e.disabled||r==null||r.onSelect(C.value,c)},m=()=>{e.disabled||r==null||r.setActiveKey(C.value)},y=()=>{e.disabled||r==null||r.setActiveKey()},R=p(()=>[u,{["".concat(u,"-disabled")]:e.disabled,["".concat(u,"-active")]:B.value,["".concat(u,"-multiple")]:r==null?void 0:r.multiple}]);return{prefixCls:u,cls:R,selectCtx:r,itemRef:a,component:w,isSelected:D,isValid:K,handleClick:k,handleMouseEnter:m,handleMouseLeave:y}}});function Cn(e,l,t,n,u,r){const o=Q("checkbox");return Xl((T(),te(Be(e.component),{ref:"itemRef",class:H([e.cls,{["".concat(e.prefixCls,"-has-suffix")]:!!e.$slots.suffix}]),onClick:e.handleClick,onMouseenter:e.handleMouseEnter,onMouseleave:e.handleMouseLeave},{default:G(()=>[e.$slots.icon?(T(),J("span",{key:0,class:H("".concat(e.prefixCls,"-icon"))},[L(e.$slots,"icon")],2)):le("v-if",!0),e.selectCtx&&e.selectCtx.multiple?(T(),te(o,{key:1,class:H("".concat(e.prefixCls,"-checkbox")),"model-value":e.isSelected,disabled:e.disabled,"uninject-group-context":""},{default:G(()=>[L(e.$slots,"default",{},()=>[xe(We(e.label),1)])]),_:3},8,["class","model-value","disabled"])):(T(),J("span",{key:2,class:H("".concat(e.prefixCls,"-content"))},[L(e.$slots,"default",{},()=>[xe(We(e.label),1)])],2)),e.$slots.suffix?(T(),J("span",{key:3,class:H("".concat(e.prefixCls,"-suffix"))},[L(e.$slots,"suffix")],2)):le("v-if",!0)]),_:3},8,["class","onClick","onMouseenter","onMouseleave"])),[[Ql,e.isValid]])}var Ne=ne(_n,[["render",Cn]]),Sn=Object.defineProperty,wn=Object.defineProperties,On=Object.getOwnPropertyDescriptors,Dl=Object.getOwnPropertySymbols,Vn=Object.prototype.hasOwnProperty,kn=Object.prototype.propertyIsEnumerable,Ml=(e,l,t)=>l in e?Sn(e,l,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[l]=t,il=(e,l)=>{for(var t in l||(l={}))Vn.call(l,t)&&Ml(e,t,l[t]);if(Dl)for(var t of Dl(l))kn.call(l,t)&&Ml(e,t,l[t]);return e},Bn=(e,l)=>wn(e,On(l));const Pn={value:"value",label:"label",disabled:"disabled",tagProps:"tagProps",render:"render"},In=({options:e,extraOptions:l,inputValue:t,filterOption:n,showExtraOptions:u,valueKey:r,fieldNames:o})=>{const a=p(()=>il(il({},Pn),o==null?void 0:o.value)),s=Ie(new Map),f=p(()=>Array.from(s.values()).sort((m,y)=>pe(m.index)&&pe(y.index)?m.index-y.index:0)),d=p(()=>{var m,y;const R=new Map;return{optionInfos:hl((m=e==null?void 0:e.value)!=null?m:[],{valueKey:(y=r==null?void 0:r.value)!=null?y:"value",fieldNames:a.value,origin:"options",optionInfoMap:R}),optionInfoMap:R}}),V=p(()=>{var m,y;const R=new Map;return{optionInfos:hl((m=l==null?void 0:l.value)!=null?m:[],{valueKey:(y=r==null?void 0:r.value)!=null?y:"value",fieldNames:a.value,origin:"extraOptions",optionInfoMap:R}),optionInfoMap:R}}),C=Ie(new Map);re([f,e!=null?e:_([]),l!=null?l:_([]),r!=null?r:_("value")],()=>{C.clear(),f.value.forEach((m,y)=>{C.set(m.key,Bn(il({},m),{index:y}))}),d.value.optionInfoMap.forEach(m=>{C.has(m.key)||(m.index=C.size,C.set(m.key,m))}),V.value.optionInfoMap.forEach(m=>{C.has(m.key)||(m.index=C.size,C.set(m.key,m))})},{immediate:!0,deep:!0});const w=p(()=>{var m;const y=jl(d.value.optionInfos,{inputValue:t==null?void 0:t.value,filterOption:n==null?void 0:n.value});return((m=u==null?void 0:u.value)==null||m)&&y.push(...jl(V.value.optionInfos,{inputValue:t==null?void 0:t.value,filterOption:n==null?void 0:n.value})),y}),j=p(()=>Array.from(C.values()).filter(m=>m.origin==="extraOptions"&&(u==null?void 0:u.value)===!1?!1:Ye(m,{inputValue:t==null?void 0:t.value,filterOption:n==null?void 0:n.value}))),D=p(()=>j.value.filter(m=>!m.disabled).map(m=>m.key));return{validOptions:w,optionInfoMap:C,validOptionInfos:j,enabledOptionKeys:D,getNextSlotOptionIndex:()=>s.size,addSlotOptionInfo:(m,y)=>{s.set(m,y)},removeSlotOptionInfo:m=>{s.delete(m)}}},Me={ENTER:"Enter",ESC:"Escape",BACKSPACE:"Backspace",TAB:"Tab",SPACE:" ",ARROW_UP:"ArrowUp",ARROW_DOWN:"ArrowDown",ARROW_LEFT:"ArrowLeft",ARROW_RIGHT:"ArrowRight"},Al=e=>JSON.stringify({key:e.key,ctrl:!!e.ctrl,shift:!!e.shift,alt:!!e.alt,meta:!!e.meta}),zn=e=>{const l={};return e.forEach((t,n)=>{const u=Cl(n)?{key:n}:n;l[Al(u)]=t}),t=>{const n=Al({key:t.key,ctrl:t.ctrlKey,shift:t.shiftKey,alt:t.altKey,meta:t.metaKey}),u=l[n];u&&(t.stopPropagation(),u(t))}},Rn=({multiple:e,options:l,extraOptions:t,inputValue:n,filterOption:u,showExtraOptions:r,component:o,valueKey:a,fieldNames:s,loading:f,popupVisible:d,valueKeys:V,dropdownRef:C,optionRefs:w,virtualListRef:j,onSelect:D,onPopupVisibleChange:B,enterToOpen:K=!0,defaultActiveFirstOption:k})=>{const{validOptions:m,optionInfoMap:y,validOptionInfos:R,enabledOptionKeys:c,getNextSlotOptionIndex:v,addSlotOptionInfo:P,removeSlotOptionInfo:E}=In({options:l,extraOptions:t,inputValue:n,filterOption:u,showExtraOptions:r,valueKey:a,fieldNames:s}),O=_();re(c,I=>{(!O.value||!I.includes(O.value))&&(O.value=I[0])});const $=I=>{O.value=I},F=I=>{const U=c.value.length;if(U===0)return;if(!O.value)return I==="down"?c.value[0]:c.value[U-1];const x=c.value.indexOf(O.value),q=(U+x+(I==="up"?-1:1))%U;return c.value[q]},N=I=>{var U,x;j!=null&&j.value&&j.value.scrollTo({key:I});const q=y.get(I),ee=(U=C==null?void 0:C.value)==null?void 0:U.wrapperRef,fe=(x=w==null?void 0:w.value[I])!=null?x:q==null?void 0:q.ref;if(!ee||!fe||ee.scrollHeight===ee.offsetHeight)return;const de=St(fe,ee),oe=ee.scrollTop;de.top<0?ee.scrollTo(0,oe+de.top):de.bottom<0&&ee.scrollTo(0,oe-de.bottom)};re(d,I=>{var U;if(I){const x=V.value[V.value.length-1];let q=(U=k==null?void 0:k.value)==null||U?c.value[0]:void 0;c.value.includes(x)&&(q=x),q!==O.value&&(O.value=q),me(()=>{O.value&&N(O.value)})}});const M=zn(new Map([[Me.ENTER,I=>{!(f!=null&&f.value)&&!I.isComposing&&(d.value?O.value&&(D(O.value,I),I.preventDefault()):K&&(B(!0),I.preventDefault()))}],[Me.ESC,I=>{d.value&&(B(!1),I.preventDefault())}],[Me.ARROW_DOWN,I=>{if(d.value){const U=F("down");U&&(O.value=U,N(U)),I.preventDefault()}}],[Me.ARROW_UP,I=>{if(d.value){const U=F("up");U&&(O.value=U,N(U)),I.preventDefault()}}]]));return tt(dt,Ie({multiple:e,valueKey:a,inputValue:n,filterOption:u,component:o,valueKeys:V,activeKey:O,setActiveKey:$,onSelect:D,getNextSlotOptionIndex:v,addSlotOptionInfo:P,removeSlotOptionInfo:E})),{validOptions:m,optionInfoMap:y,validOptionInfos:R,enabledOptionKeys:c,activeKey:O,setActiveKey:$,addSlotOptionInfo:P,removeSlotOptionInfo:E,getNextActiveKey:F,scrollIntoView:N,handleKeyDown:M}},En=({dataKeys:e,contentRef:l,fixedSize:t,estimatedSize:n,buffer:u})=>{const r=_(0),o=new Map,a=p(()=>e.value.length),s=_(0),f=p(()=>{const v=s.value+u.value*3;return v>a.value?a.value:v}),d=p(()=>{const v=a.value-u.value*3;return v<0?0:v}),V=v=>{v<0?s.value=0:v>d.value?s.value=d.value:s.value=v},C=_(t.value),w=p(()=>n.value!==30?n.value:r.value||n.value),j=(v,P)=>{o.set(v,P)},D=v=>{var P;if(C.value)return w.value;const E=e.value[v];return(P=o.get(E))!=null?P:w.value},B=v=>o.has(v);$e(()=>{const v=Array.from(o.values()).reduce((P,E)=>P+E,0);v>0&&(r.value=v/o.size)});const K=v=>C.value?w.value*v:k(0,v),k=(v,P)=>{let E=0;for(let O=v;O<P;O++)E+=D(O);return E},m=p(()=>C.value?w.value*s.value:k(0,s.value)),y=v=>{const P=v>=m.value;let E=Math.abs(v-m.value);const O=P?s.value:s.value-1;let $=0;for(;E>0;)E-=D(O+$),P?$++:$--;return $},R=v=>{const P=y(v),E=s.value+P-u.value;return E<0?0:E>d.value?d.value:E},c=p(()=>C.value?w.value*(a.value-f.value):k(f.value,a.value));return{frontPadding:m,behindPadding:c,start:s,end:f,getStartByScroll:R,setItemSize:j,hasItemSize:B,setStart:V,getScrollOffset:K}};var Tn=Y({name:"VirtualListItem",props:{hasItemSize:{type:Function,required:!0},setItemSize:{type:Function,required:!0}},setup(e,{slots:l}){var t;const n=(t=et())==null?void 0:t.vnode.key,u=_(),r=()=>{var o,a,s,f;const d=(a=(o=u.value)==null?void 0:o.$el)!=null?a:u.value,V=(f=(s=d==null?void 0:d.getBoundingClientRect)==null?void 0:s.call(d).height)!=null?f:d==null?void 0:d.offsetHeight;V&&e.setItemSize(n,V)};return $e(()=>r()),lt(()=>r()),()=>{var o;const a=gl((o=l.default)==null?void 0:o.call(l));return a?yl(a,{ref:u},!0):null}}}),jn=Object.defineProperty,Fl=Object.getOwnPropertySymbols,Dn=Object.prototype.hasOwnProperty,Mn=Object.prototype.propertyIsEnumerable,Nl=(e,l,t)=>l in e?jn(e,l,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[l]=t,An=(e,l)=>{for(var t in l||(l={}))Dn.call(l,t)&&Nl(e,t,l[t]);if(Fl)for(var t of Fl(l))Mn.call(l,t)&&Nl(e,t,l[t]);return e};const Fn=Y({name:"VirtualList",components:{VirtualListItem:Tn},props:{height:{type:[Number,String],default:200},data:{type:Array,default:()=>[]},threshold:{type:Number,default:0},itemKey:{type:String,default:"key"},fixedSize:{type:Boolean,default:!1},estimatedSize:{type:Number,default:30},buffer:{type:Number,default:10},component:{type:[String,Object],default:"div"},listAttrs:{type:Object},contentAttrs:{type:Object},paddingPosition:{type:String,default:"content"}},emits:{scroll:e=>!0,reachBottom:e=>!0},setup(e,{emit:l}){const{data:t,itemKey:n,fixedSize:u,estimatedSize:r,buffer:o,height:a}=ce(e),s=X("virtual-list"),f=p(()=>se(e.component)?An({container:"div",list:"div",content:"div"},e.component):{container:e.component,list:"div",content:"div"}),d=_(),V=_(),C=p(()=>({height:pe(a.value)?"".concat(a.value,"px"):a.value,overflow:"auto"})),w=p(()=>t.value.map((O,$)=>{var F;return(F=O[n.value])!=null?F:$})),{frontPadding:j,behindPadding:D,start:B,end:K,getStartByScroll:k,setItemSize:m,hasItemSize:y,setStart:R,getScrollOffset:c}=En({dataKeys:w,contentRef:V,fixedSize:u,estimatedSize:r,buffer:o}),v=p(()=>e.threshold&&t.value.length<=e.threshold?t.value:t.value.slice(B.value,K.value)),P=O=>{const{scrollTop:$,scrollHeight:F,offsetHeight:N}=O.target,M=k($);M!==B.value&&(R(M),me(()=>{E($)})),l("scroll",O),Math.floor(F-($+N))<=0&&l("reachBottom",O)},E=O=>{var $,F;if(d.value)if(pe(O))d.value.scrollTop=O;else{const N=(F=O.index)!=null?F:w.value.indexOf(($=O.key)!=null?$:"");R(N-o.value),d.value.scrollTop=c(N),me(()=>{if(d.value){const M=c(N);M!==d.value.scrollTop&&(d.value.scrollTop=M)}})}};return{prefixCls:s,containerRef:d,contentRef:V,frontPadding:j,currentList:v,behindPadding:D,onScroll:P,setItemSize:m,hasItemSize:y,start:B,scrollTo:E,style:C,mergedComponent:f}}});function Nn(e,l,t,n,u,r){const o=Q("VirtualListItem");return T(),te(Be(e.mergedComponent.container),{ref:"containerRef",class:H(e.prefixCls),style:_e(e.style),onScroll:e.onScroll},{default:G(()=>[(T(),te(Be(e.mergedComponent.list),ae(e.listAttrs,{style:e.paddingPosition==="list"?{paddingTop:"".concat(e.frontPadding,"px"),paddingBottom:"".concat(e.behindPadding,"px")}:{}}),{default:G(()=>[(T(),te(Be(e.mergedComponent.content),ae({ref:"contentRef"},e.contentAttrs,{style:e.paddingPosition==="content"?{paddingTop:"".concat(e.frontPadding,"px"),paddingBottom:"".concat(e.behindPadding,"px")}:{}}),{default:G(()=>[(T(!0),J(Pe,null,wt(e.currentList,(a,s)=>{var f;return T(),te(o,{key:(f=a[e.itemKey])!=null?f:e.start+s,"has-item-size":e.hasItemSize,"set-item-size":e.setItemSize},{default:G(()=>[L(e.$slots,"item",{item:a,index:e.start+s})]),_:2},1032,["has-item-size","set-item-size"])}),128))]),_:3},16,["style"]))]),_:3},16,["style"]))]),_:3},8,["class","style","onScroll"])}var Ln=ne(Fn,[["render",Nn]]);const Hn=Y({name:"IconMore",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},emits:{click:e=>!0},setup(e,{emit:l}){const t=X("icon"),n=p(()=>[t,"".concat(t,"-more"),{["".concat(t,"-spin")]:e.spin}]),u=p(()=>{const o={};return e.size&&(o.fontSize=pe(e.size)?"".concat(e.size,"px"):e.size),e.rotate&&(o.transform="rotate(".concat(e.rotate,"deg)")),o});return{cls:n,innerStyle:u,onClick:o=>{l("click",o)}}}}),Kn=["stroke-width","stroke-linecap","stroke-linejoin"],xn=ie("path",{d:"M38 25v-2h2v2h-2ZM23 25v-2h2v2h-2ZM8 25v-2h2v2H8Z",fill:"currentColor",stroke:"none"},null,-1),Wn=ie("path",{d:"M38 25v-2h2v2h-2ZM23 25v-2h2v2h-2ZM8 25v-2h2v2H8Z"},null,-1),Gn=[xn,Wn];function Un(e,l,t,n,u,r){return T(),J("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:H(e.cls),style:_e(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin,onClick:l[0]||(l[0]=(...o)=>e.onClick&&e.onClick(...o))},Gn,14,Kn)}var sl=ne(Hn,[["render",Un]]);const qn=Object.assign(sl,{install:(e,l)=>{var t;const n=(t=l==null?void 0:l.iconPrefix)!=null?t:"";e.component(n+sl.name,sl)}}),kl=Symbol("ArcoDropdown"),Zn=Y({name:"DropdownPanel",components:{Scrollbar:ct,Empty:st},props:{loading:{type:Boolean,default:!1},isEmpty:{type:Boolean,default:!1},bottomOffset:{type:Number,default:0},onScroll:{type:[Function,Array]},onReachBottom:{type:[Function,Array]}},emits:["scroll","reachBottom"],setup(e,{emit:l,slots:t}){const n=X("dropdown"),u=ze(kl,{}),r=_(),o=f=>{const{scrollTop:d,scrollHeight:V,offsetHeight:C}=f.target;V-(d+C)<=e.bottomOffset&&l("reachBottom",f),l("scroll",f)},a=p(()=>{if(pe(u.popupMaxHeight))return{maxHeight:"".concat(u.popupMaxHeight,"px")};if(!u.popupMaxHeight)return{maxHeight:"none",overflowY:"hidden"}}),s=p(()=>[n,{["".concat(n,"-has-footer")]:!!t.footer}]);return{prefixCls:n,cls:s,style:a,wrapperRef:r,handleScroll:o}}});function Yn(e,l,t,n,u,r){const o=Q("empty"),a=Q("Scrollbar");return T(),J("div",{class:H(e.cls)},[e.isEmpty?(T(),J("div",{key:0,class:H("".concat(e.prefixCls,"-empty"))},[L(e.$slots,"empty",{},()=>[h(o)])],2)):le("v-if",!0),h(a,{ref:"wrapperRef",class:H("".concat(e.prefixCls,"-list-wrapper")),style:_e(e.style),onScroll:e.handleScroll},{default:G(()=>[ie("ul",{class:H("".concat(e.prefixCls,"-list"))},[L(e.$slots,"default")],2)]),_:3},8,["class","style","onScroll"]),e.$slots.footer&&!e.isEmpty?(T(),J("div",{key:1,class:H("".concat(e.prefixCls,"-footer"))},[L(e.$slots,"footer")],2)):le("v-if",!0)],2)}var vt=ne(Zn,[["render",Yn]]);const Je=({popupVisible:e,defaultPopupVisible:l,emit:t})=>{var n;const u=_((n=l==null?void 0:l.value)!=null?n:!1),r=p(()=>{var a;return(a=e==null?void 0:e.value)!=null?a:u.value}),o=a=>{a!==r.value&&(u.value=a,t("update:popupVisible",a),t("popupVisibleChange",a))};return re(r,a=>{u.value!==a&&(u.value=a)}),{computedPopupVisible:r,handlePopupVisibleChange:o}},Jn=Y({name:"Dropdown",components:{Trigger:Ue,DropdownPanel:vt},props:{popupVisible:{type:Boolean,default:void 0},defaultPopupVisible:{type:Boolean,default:!1},trigger:{type:[String,Array],default:"click"},position:{type:String,default:"bottom"},popupContainer:{type:[String,Object]},popupMaxHeight:{type:[Boolean,Number],default:!0},hideOnSelect:{type:Boolean,default:!0}},emits:{"update:popupVisible":e=>!0,popupVisibleChange:e=>!0,select:(e,l)=>!0},setup(e,{emit:l}){const{defaultPopupVisible:t,popupVisible:n,popupMaxHeight:u}=ce(e),r=X("dropdown"),{computedPopupVisible:o,handlePopupVisibleChange:a}=Je({defaultPopupVisible:t,popupVisible:n,emit:l});return tt(kl,Ie({popupMaxHeight:u,onOptionClick:(f,d)=>{l("select",f,d),e.hideOnSelect&&a(!1)}})),{prefixCls:r,computedPopupVisible:o,handlePopupVisibleChange:a}}});function Xn(e,l,t,n,u,r){const o=Q("DropdownPanel"),a=Q("Trigger");return T(),te(a,{"popup-visible":e.computedPopupVisible,"animation-name":"slide-dynamic-origin","auto-fit-transform-origin":"",trigger:e.trigger,position:e.position,"popup-offset":4,"popup-container":e.popupContainer,"opened-class":"".concat(e.prefixCls,"-open"),onPopupVisibleChange:e.handlePopupVisibleChange},{content:G(()=>[h(o,null,bl({default:G(()=>[L(e.$slots,"content")]),_:2},[e.$slots.footer?{name:"footer",fn:G(()=>[L(e.$slots,"footer")])}:void 0]),1024)]),default:G(()=>[L(e.$slots,"default")]),_:3},8,["popup-visible","trigger","position","popup-container","opened-class","onPopupVisibleChange"])}var Le=ne(Jn,[["render",Xn]]);const Qn=Y({name:"Doption",props:{value:{type:[String,Number,Object]},disabled:{type:Boolean,default:!1},active:Boolean,uninjectContext:Boolean},emits:{click:e=>!0},setup(e,{emit:l}){const t=X("dropdown-option"),n=_(),u=p(()=>{var s,f,d;return(d=(f=e.value)!=null?f:(s=n.value)==null?void 0:s.textContent)!=null?d:void 0}),r=e.uninjectContext?void 0:ze(kl,void 0),o=s=>{e.disabled||(l("click",s),r==null||r.onOptionClick(u.value,s))},a=p(()=>[t,{["".concat(t,"-disabled")]:e.disabled,["".concat(t,"-active")]:e.active}]);return{prefixCls:t,cls:a,liRef:n,handleClick:o}}});function ea(e,l,t,n,u,r){return T(),J("li",{ref:"liRef",class:H([e.cls,{["".concat(e.prefixCls,"-has-suffix")]:!!e.$slots.suffix}]),onClick:l[0]||(l[0]=(...o)=>e.handleClick&&e.handleClick(...o))},[e.$slots.icon?(T(),J("span",{key:0,class:H("".concat(e.prefixCls,"-icon"))},[L(e.$slots,"icon")],2)):le("v-if",!0),ie("span",{class:H("".concat(e.prefixCls,"-content"))},[L(e.$slots,"default")],2),e.$slots.suffix?(T(),J("span",{key:1,class:H("".concat(e.prefixCls,"-suffix"))},[L(e.$slots,"suffix")],2)):le("v-if",!0)],2)}var He=ne(Qn,[["render",ea]]);const la=Y({name:"Dgroup",props:{title:String},setup(){return{prefixCls:X("dropdown-group")}}});function ta(e,l,t,n,u,r){return T(),J(Pe,null,[ie("li",{class:H("".concat(e.prefixCls,"-title"))},[L(e.$slots,"title",{},()=>[xe(We(e.title),1)])],2),L(e.$slots,"default")],64)}var cl=ne(la,[["render",ta]]);const na=Y({name:"Dsubmenu",components:{Trigger:Ue,DropdownPanel:vt,DropdownOption:He,IconRight:Et},props:{value:{type:[String,Number]},disabled:{type:Boolean,default:!1},trigger:{type:[String,Array],default:"click"},position:{type:String,default:"rt"},popupVisible:{type:Boolean,default:void 0},defaultPopupVisible:{type:Boolean,default:!1},optionProps:{type:Object}},emits:{"update:popupVisible":e=>!0,popupVisibleChange:e=>!0},setup(e,{emit:l}){const{defaultPopupVisible:t,popupVisible:n}=ce(e),u=X("dropdown"),{computedPopupVisible:r,handlePopupVisibleChange:o}=Je({defaultPopupVisible:t,popupVisible:n,emit:l});return{prefixCls:u,computedPopupVisible:r,handlePopupVisibleChange:o}}});function aa(e,l,t,n,u,r){const o=Q("IconRight"),a=Q("dropdown-option"),s=Q("dropdown-panel"),f=Q("Trigger");return T(),te(f,{"popup-visible":e.computedPopupVisible,trigger:e.trigger,position:e.position,disabled:e.disabled,"popup-offset":4,onPopupVisibleChange:e.handlePopupVisibleChange},{content:G(()=>[h(s,{class:H("".concat(e.prefixCls,"-submenu"))},bl({default:G(()=>[L(e.$slots,"content")]),_:2},[e.$slots.footer?{name:"footer",fn:G(()=>[L(e.$slots,"footer")])}:void 0]),1032,["class"])]),default:G(()=>[h(a,ae(e.optionProps,{active:e.computedPopupVisible,"uninject-context":""}),bl({suffix:G(()=>[L(e.$slots,"suffix",{},()=>[h(o)])]),default:G(()=>[L(e.$slots,"default")]),_:2},[e.$slots.icon?{name:"icon",fn:G(()=>[L(e.$slots,"icon")])}:void 0]),1040,["active"])]),_:3},8,["popup-visible","trigger","position","disabled","onPopupVisibleChange"])}var dl=ne(na,[["render",aa]]);const oa=Y({name:"DropdownButton",components:{IconMore:qn,Button:Mt,ButtonGroup:At,Dropdown:Le},props:{popupVisible:{type:Boolean,default:void 0},defaultPopupVisible:{type:Boolean,default:!1},trigger:{type:[String,Array],default:"click"},position:{type:String,default:"br"},popupContainer:{type:[String,Object]},disabled:{type:Boolean,default:!1},type:{type:String},size:{type:String},buttonProps:{type:Object},hideOnSelect:{type:Boolean,default:!0}},emits:{"update:popupVisible":e=>!0,popupVisibleChange:e=>!0,click:e=>!0,select:(e,l)=>!0},setup(e,{emit:l}){const{defaultPopupVisible:t,popupVisible:n}=ce(e),u=X("dropdown"),{computedPopupVisible:r,handlePopupVisibleChange:o}=Je({defaultPopupVisible:t,popupVisible:n,emit:l});return{prefixCls:u,computedPopupVisible:r,handleClick:f=>{l("click",f)},handleSelect:(f,d)=>{l("select",f,d)},handlePopupVisibleChange:o}}});function ra(e,l,t,n,u,r){const o=Q("Button"),a=Q("IconMore"),s=Q("Dropdown"),f=Q("ButtonGroup");return T(),te(f,null,{default:G(()=>[h(o,ae({size:e.size,type:e.type,disabled:e.disabled},e.buttonProps,{onClick:e.handleClick}),{default:G(()=>[L(e.$slots,"default")]),_:3},16,["size","type","disabled","onClick"]),h(s,{"popup-visible":e.computedPopupVisible,trigger:e.trigger,position:e.position,"popup-container":e.popupContainer,"hide-on-select":e.hideOnSelect,onSelect:e.handleSelect,onPopupVisibleChange:e.handlePopupVisibleChange},{content:G(()=>[L(e.$slots,"content")]),default:G(()=>[h(o,{size:e.size,type:e.type,disabled:e.disabled},{icon:G(()=>[L(e.$slots,"icon",{popupVisible:e.computedPopupVisible},()=>[h(a)])]),_:3},8,["size","type","disabled"])]),_:3},8,["popup-visible","trigger","position","popup-container","hide-on-select","onSelect","onPopupVisibleChange"])]),_:3})}var fl=ne(oa,[["render",ra]]);const Da=Object.assign(Le,{Option:He,Group:cl,Submenu:dl,Button:fl,install:(e,l)=>{Ce(e,l);const t=Se(l);e.component(t+Le.name,Le),e.component(t+He.name,He),e.component(t+cl.name,cl),e.component(t+dl.name,dl),e.component(t+fl.name,fl)}}),ua=({defaultValue:e,modelValue:l,emit:t,eventName:n="input",updateEventName:u="update:modelValue",eventHandlers:r})=>{var o;const a=_(),s=_((o=e==null?void 0:e.value)!=null?o:""),f=_(!1),d=_(!1),V=_("");let C;const w=p(()=>{var c;return(c=l==null?void 0:l.value)!=null?c:s.value}),j=(c,v)=>{s.value=c,t(u,c),t(n,c,v)},D=c=>{const{value:v}=c.target;d.value||(j(v,c),me(()=>{a.value&&w.value!==a.value.value&&(a.value.value=w.value)}))},B=c=>{n==="input"&&w.value!==C&&(C=w.value,t("change",w.value,c))},K=c=>{var v;const{value:P}=c.target;c.type==="compositionend"?(d.value=!1,V.value="",j(P,c),me(()=>{a.value&&w.value!==a.value.value&&(a.value.value=w.value)})):(d.value=!0,V.value=w.value+((v=c.data)!=null?v:""))},k=c=>{var v,P;f.value=!0,C=w.value,t("focus",c),(P=(v=r==null?void 0:r.value)==null?void 0:v.onFocus)==null||P.call(v,c)},m=c=>{var v,P;f.value=!1,t("blur",c),(P=(v=r==null?void 0:r.value)==null?void 0:v.onBlur)==null||P.call(v,c),B(c)},y=c=>{const v=c.key||c.code;!d.value&&v===ot.key&&(t("pressEnter",c),B(c))},R=c=>{a.value&&c.target!==a.value&&(c.preventDefault(),a.value.focus())};return re(w,c=>{a.value&&c!==a.value.value&&(a.value.value=c)}),{inputRef:a,_value:s,_focused:f,isComposition:d,compositionValue:V,computedValue:w,handleInput:D,handleComposition:K,handleFocus:k,handleBlur:m,handleKeyDown:y,handleMousedown:R}};var ia=Y({name:"InputLabel",inheritAttrs:!1,props:{modelValue:Object,inputValue:{type:String,default:""},enabledInput:Boolean,formatLabel:Function,placeholder:String,retainInputValue:Boolean,disabled:Boolean,baseCls:String,size:String,error:Boolean,focused:Boolean,uninjectFormItemContext:Boolean},emits:["update:inputValue","inputValueChange","focus","blur"],setup(e,{attrs:l,emit:t,slots:n}){var u;const{size:r,disabled:o,error:a,inputValue:s,uninjectFormItemContext:f}=ce(e),d=(u=e.baseCls)!=null?u:X("input-label"),{mergedSize:V,mergedDisabled:C,mergedError:w,eventHandlers:j}=qe({size:r,disabled:o,error:a,uninject:f==null?void 0:f.value}),{mergedSize:D}=Ze(V),{inputRef:B,_focused:K,computedValue:k,handleInput:m,handleComposition:y,handleFocus:R,handleBlur:c,handleMousedown:v}=ua({modelValue:s,emit:t,eventName:"inputValueChange",updateEventName:"update:inputValue",eventHandlers:j}),P=p(()=>{var x;return(x=e.focused)!=null?x:K.value}),E=p(()=>e.enabledInput&&K.value||!e.modelValue),O=()=>{var x,q;return e.modelValue?(q=(x=e.formatLabel)==null?void 0:x.call(e,e.modelValue))!=null?q:e.modelValue.label:""},$=p(()=>e.enabledInput&&e.modelValue?O():e.placeholder),F=()=>{var x,q;return e.modelValue?(q=(x=n.default)==null?void 0:x.call(n,{data:e.modelValue}))!=null?q:O():null},N=p(()=>[d,"".concat(d,"-size-").concat(D.value),{["".concat(d,"-search")]:e.enabledInput,["".concat(d,"-focus")]:P.value,["".concat(d,"-disabled")]:C.value,["".concat(d,"-error")]:w.value}]),M=p(()=>rt(l,Ge)),I=p(()=>ut(l,Ge));return{inputRef:B,render:()=>h("span",ae(M.value,{class:N.value,title:O(),onMousedown:v}),[n.prefix&&h("span",{class:"".concat(d,"-prefix")},[n.prefix()]),h("input",ae(I.value,{ref:B,class:["".concat(d,"-input"),{["".concat(d,"-input-hidden")]:!E.value}],value:k.value,readonly:!e.enabledInput,placeholder:$.value,disabled:C.value,onInput:m,onFocus:R,onBlur:c,onCompositionstart:y,onCompositionupdate:y,onCompositionend:y}),null),h("span",{class:["".concat(d,"-value"),{["".concat(d,"-value-hidden")]:E.value}]},[F()]),n.suffix&&h("span",{class:"".concat(d,"-suffix")},[n.suffix()])])}},methods:{focus(){var e;(e=this.inputRef)==null||e.focus()},blur(){var e;(e=this.inputRef)==null||e.blur()}},render(){return this.render()}}),sa=Object.defineProperty,Ll=Object.getOwnPropertySymbols,ca=Object.prototype.hasOwnProperty,da=Object.prototype.propertyIsEnumerable,Hl=(e,l,t)=>l in e?sa(e,l,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[l]=t,fa=(e,l)=>{for(var t in l||(l={}))ca.call(l,t)&&Hl(e,t,l[t]);if(Ll)for(var t of Ll(l))da.call(l,t)&&Hl(e,t,l[t]);return e};const pa=(e,l)=>{const t=[];for(const n of e)if(se(n))t.push({raw:n,value:n[l.value],label:n[l.label],closable:n[l.closable],tagProps:n[l.tagProps]});else if(e||pe(e)){const u={value:n,label:String(n),closable:!0};t.push(fa({raw:u},u))}return t},Kl=["red","orangered","orange","gold","lime","green","cyan","blue","arcoblue","purple","pinkpurple","magenta","gray"],va=Y({name:"Tag",components:{IconHover:Sl,IconClose:wl,IconLoading:_l},props:{color:{type:String},size:{type:String},bordered:{type:Boolean,default:!1},visible:{type:Boolean,default:void 0},defaultVisible:{type:Boolean,default:!0},loading:{type:Boolean,default:!1},closable:{type:Boolean,default:!1},checkable:{type:Boolean,default:!1},checked:{type:Boolean,default:void 0},defaultChecked:{type:Boolean,default:!0}},emits:{"update:visible":e=>!0,"update:checked":e=>!0,close:e=>!0,check:(e,l)=>!0},setup(e,{emit:l}){const{size:t}=ce(e),n=X("tag"),u=p(()=>e.color&&Kl.includes(e.color)),r=p(()=>e.color&&!Kl.includes(e.color)),o=_(e.defaultVisible),a=_(e.defaultChecked),s=p(()=>{var B;return(B=e.visible)!=null?B:o.value}),f=p(()=>{var B;return e.checkable?(B=e.checked)!=null?B:a.value:!0}),{mergedSize:d}=Ze(t),V=p(()=>d.value==="mini"?"small":d.value),C=B=>{o.value=!1,l("update:visible",!1),l("close",B)},w=B=>{if(e.checkable){const K=!f.value;a.value=K,l("update:checked",K),l("check",K,B)}},j=p(()=>[n,"".concat(n,"-size-").concat(V.value),{["".concat(n,"-loading")]:e.loading,["".concat(n,"-hide")]:!s.value,["".concat(n,"-").concat(e.color)]:u.value,["".concat(n,"-bordered")]:e.bordered,["".concat(n,"-checkable")]:e.checkable,["".concat(n,"-checked")]:f.value,["".concat(n,"-custom-color")]:r.value}]),D=p(()=>{if(r.value)return{backgroundColor:e.color}});return{prefixCls:n,cls:j,style:D,computedVisible:s,computedChecked:f,handleClick:w,handleClose:C}}});function ma(e,l,t,n,u,r){const o=Q("icon-close"),a=Q("icon-hover"),s=Q("icon-loading");return e.computedVisible?(T(),J("span",{key:0,class:H(e.cls),style:_e(e.style),onClick:l[0]||(l[0]=(...f)=>e.handleClick&&e.handleClick(...f))},[e.$slots.icon?(T(),J("span",{key:0,class:H("".concat(e.prefixCls,"-icon"))},[L(e.$slots,"icon")],2)):le("v-if",!0),L(e.$slots,"default"),e.closable?(T(),te(a,{key:1,role:"button","aria-label":"Close",prefix:e.prefixCls,class:H("".concat(e.prefixCls,"-close-btn")),onClick:Jl(e.handleClose,["stop"])},{default:G(()=>[L(e.$slots,"close-icon",{},()=>[h(o)])]),_:3},8,["prefix","class","onClick"])):le("v-if",!0),e.loading?(T(),J("span",{key:2,class:H("".concat(e.prefixCls,"-loading-icon"))},[h(s)],2)):le("v-if",!0)],6)):le("v-if",!0)}var pl=ne(va,[["render",ma]]);const ba=Object.assign(pl,{install:(e,l)=>{Ce(e,l);const t=Se(l);e.component(t+pl.name,pl)}});var ha=Object.defineProperty,xl=Object.getOwnPropertySymbols,ga=Object.prototype.hasOwnProperty,ya=Object.prototype.propertyIsEnumerable,Wl=(e,l,t)=>l in e?ha(e,l,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[l]=t,Ae=(e,l)=>{for(var t in l||(l={}))ga.call(l,t)&&Wl(e,t,l[t]);if(xl)for(var t of xl(l))ya.call(l,t)&&Wl(e,t,l[t]);return e};const $a={value:"value",label:"label",closable:"closable",tagProps:"tagProps"};var vl=Y({name:"InputTag",inheritAttrs:!1,props:{modelValue:{type:Array},defaultValue:{type:Array,default:()=>[]},inputValue:String,defaultInputValue:{type:String,default:""},placeholder:String,disabled:{type:Boolean,default:!1},error:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},allowClear:{type:Boolean,default:!1},size:{type:String},maxTagCount:{type:Number,default:0},retainInputValue:{type:[Boolean,Object],default:!1},formatTag:{type:Function},uniqueValue:{type:Boolean,default:!1},fieldNames:{type:Object},baseCls:String,focused:Boolean,disabledInput:Boolean,uninjectFormItemContext:Boolean},emits:{"update:modelValue":e=>!0,"update:inputValue":e=>!0,change:(e,l)=>!0,inputValueChange:(e,l)=>!0,pressEnter:(e,l)=>!0,remove:(e,l)=>!0,clear:e=>!0,focus:e=>!0,blur:e=>!0},setup(e,{emit:l,slots:t,attrs:n}){const{size:u,disabled:r,error:o,uninjectFormItemContext:a,modelValue:s}=ce(e),f=e.baseCls||X("input-tag"),d=_(),V=_(),{mergedSize:C,mergedDisabled:w,mergedError:j,feedback:D,eventHandlers:B}=qe({size:u,disabled:r,error:o,uninject:a==null?void 0:a.value}),{mergedSize:K}=Ze(C),k=p(()=>Ae(Ae({},$a),e.fieldNames)),m=_(!1),y=_(e.defaultValue),R=_(e.defaultInputValue),c=_(!1),v=_(""),P=p(()=>se(e.retainInputValue)?Ae({create:!1,blur:!1},e.retainInputValue):{create:e.retainInputValue,blur:e.retainInputValue}),E=Ie({width:"12px"}),O=p(()=>e.focused||m.value),$=(b,z)=>{R.value=b,l("update:inputValue",b),l("inputValueChange",b,z)},F=b=>{var z;const{value:W}=b.target;b.type==="compositionend"?(c.value=!1,v.value="",$(W,b),me(()=>{d.value&&M.value!==d.value.value&&(d.value.value=M.value)})):(c.value=!0,v.value=M.value+((z=b.data)!=null?z:""))},N=p(()=>{var b;return(b=e.modelValue)!=null?b:y.value}),M=p(()=>{var b;return(b=e.inputValue)!=null?b:R.value});re(s,b=>{(Fe(b)||nt(b))&&(y.value=[])});const I=b=>{d.value&&b.target!==d.value&&(b.preventDefault(),d.value.focus())},U=b=>{const{value:z}=b.target;c.value||($(z,b),me(()=>{d.value&&M.value!==d.value.value&&(d.value.value=M.value)}))},x=p(()=>pa(N.value,k.value)),q=p(()=>{if(e.maxTagCount>0){const b=x.value.length-e.maxTagCount;if(b>0){const z=x.value.slice(0,e.maxTagCount),W={value:"__arco__more",label:"+".concat(b,"..."),closable:!1};return z.push(Ae({raw:W},W)),z}}return x.value}),ee=(b,z)=>{var W,Z;y.value=b,l("update:modelValue",b),l("change",b,z),(Z=(W=B.value)==null?void 0:W.onChange)==null||Z.call(W,z)},fe=(b,z,W)=>{var Z;const Oe=(Z=N.value)==null?void 0:Z.filter((Re,Ve)=>Ve!==z);ee(Oe,W),l("remove",b,W)},de=b=>{ee([],b),l("clear",b)},oe=p(()=>!w.value&&!e.readonly&&e.allowClear&&!!N.value.length),we=b=>{var z;if(M.value){if(b.preventDefault(),e.uniqueValue&&((z=N.value)!=null&&z.includes(M.value))){l("pressEnter",M.value,b);return}const W=N.value.concat(M.value);ee(W,b),l("pressEnter",M.value,b),P.value.create||$("",b)}},be=b=>{var z,W;m.value=!0,l("focus",b),(W=(z=B.value)==null?void 0:z.onFocus)==null||W.call(z,b)},ue=b=>{var z,W;m.value=!1,!P.value.blur&&M.value&&$("",b),l("blur",b),(W=(z=B.value)==null?void 0:z.onBlur)==null||W.call(z,b)},he=()=>{for(let b=x.value.length-1;b>=0;b--)if(x.value[b].closable)return b;return-1},ge=b=>{const z=b.key||b.code;if(!c.value&&M.value&&z===ot.key&&we(b),!c.value&&q.value.length>0&&!M.value&&z===Tt.key){const W=he();W>=0&&fe(x.value[W].value,W,b)}},ve=b=>{b>12?E.width="".concat(b,"px"):E.width="12px"};$e(()=>{V.value&&ve(V.value.offsetWidth)});const Xe=()=>{V.value&&ve(V.value.offsetWidth)};re(M,b=>{d.value&&!c.value&&b!==d.value.value&&(d.value.value=b)});const Qe=p(()=>[f,"".concat(f,"-size-").concat(K.value),{["".concat(f,"-disabled")]:w.value,["".concat(f,"-disabled-input")]:e.disabledInput,["".concat(f,"-error")]:j.value,["".concat(f,"-focus")]:O.value,["".concat(f,"-readonly")]:e.readonly,["".concat(f,"-has-tag")]:q.value.length>0,["".concat(f,"-has-prefix")]:!!t.prefix,["".concat(f,"-has-suffix")]:!!t.suffix||oe.value||D.value,["".concat(f,"-has-placeholder")]:!N.value.length}]),el=p(()=>rt(n,Ge)),ll=p(()=>ut(n,Ge));return{inputRef:d,render:()=>{var b;return h("span",ae({class:Qe.value,onMousedown:I},el.value),[h(Ft,{onResize:Xe},{default:()=>[h("span",{ref:V,class:"".concat(f,"-mirror")},[q.value.length>0?v.value||M.value:v.value||M.value||e.placeholder])]}),t.prefix&&h("span",{class:"".concat(f,"-prefix")},[t.prefix()]),h(Ot,{tag:"span",name:"input-tag-zoom",class:"".concat(f,"-inner")},{default:()=>[q.value.map((z,W)=>h(ba,ae({key:"tag-".concat(z.value),class:"".concat(f,"-tag"),closable:!w.value&&!e.readonly&&z.closable,visible:!0},z.tagProps,{onClose:Z=>fe(z.value,W,Z)}),{default:()=>{var Z,Oe,Re,Ve;return[(Ve=(Re=(Z=t.tag)==null?void 0:Z.call(t,{data:z.raw}))!=null?Re:(Oe=e.formatTag)==null?void 0:Oe.call(e,z.raw))!=null?Ve:z.label]}})),h("input",ae(ll.value,{ref:d,key:"input-tag-input",class:"".concat(f,"-input"),style:E,placeholder:q.value.length===0?e.placeholder:void 0,disabled:w.value,readonly:e.readonly||e.disabledInput,onInput:U,onKeydown:ge,onFocus:be,onBlur:ue,onCompositionstart:F,onCompositionupdate:F,onCompositionend:F}),null)]}),oe.value&&h(Sl,{class:"".concat(f,"-clear-btn"),onClick:de,onMousedown:z=>z.stopPropagation()},{default:()=>[h(wl,null,null)]}),(t.suffix||!!D.value)&&h("span",{class:"".concat(f,"-suffix")},[(b=t.suffix)==null?void 0:b.call(t),!!D.value&&h(it,{type:D.value},null)])])}}},methods:{focus(){var e;(e=this.inputRef)==null||e.focus()},blur(){var e;(e=this.inputRef)==null||e.blur()}},render(){return this.render()}});const _a=Object.assign(vl,{install:(e,l)=>{Ce(e,l);const t=Se(l);e.component(t+vl.name,vl)}});var Gl=Y({name:"SelectView",props:{modelValue:{type:Array,required:!0},inputValue:String,placeholder:String,disabled:{type:Boolean,default:!1},error:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},opened:{type:Boolean,default:!1},size:{type:String},bordered:{type:Boolean,default:!0},multiple:{type:Boolean,default:!1},allowClear:{type:Boolean,default:!1},allowCreate:{type:Boolean,default:!1},allowSearch:{type:Boolean,default:e=>at(e.modelValue)},maxTagCount:{type:Number,default:0},retainInputValue:{type:Boolean,default:!1}},emits:["remove","clear","focus","blur"],setup(e,{emit:l,slots:t}){const{size:n,disabled:u,error:r}=ce(e),o=X("select-view"),{feedback:a,eventHandlers:s,mergedDisabled:f,mergedSize:d,mergedError:V}=qe({size:n,disabled:u,error:r}),{mergedSize:C}=Ze(d),{opened:w}=ce(e),j=_(),D=p(()=>{var $;return($=j.value)==null?void 0:$.inputRef}),B=p(()=>e.modelValue.length===0),K=p(()=>e.allowSearch||e.allowCreate),k=p(()=>e.allowClear&&!e.disabled&&!B.value),m=$=>{var F,N;l("focus",$),(N=(F=s.value)==null?void 0:F.onFocus)==null||N.call(F,$)},y=$=>{var F,N;l("blur",$),(N=(F=s.value)==null?void 0:F.onBlur)==null||N.call(F,$)},R=$=>{l("remove",$)},c=$=>{l("clear",$)},v=()=>{var $,F,N,M;return e.loading?(F=($=t["loading-icon"])==null?void 0:$.call(t))!=null?F:h(_l,null,null):e.allowSearch&&e.opened?(M=(N=t["search-icon"])==null?void 0:N.call(t))!=null?M:h(jt,null,null):t["arrow-icon"]?t["arrow-icon"]():h(Dt,{class:"".concat(o,"-arrow-icon")},null)},P=()=>h(Pe,null,[k.value&&h(Sl,{class:"".concat(o,"-clear-btn"),onClick:c,onMousedown:$=>$.stopPropagation()},{default:()=>[h(wl,null,null)]}),h("span",{class:"".concat(o,"-icon")},[v()]),!!a.value&&h(it,{type:a.value},null)]);re(w,$=>{!$&&D.value&&D.value.isSameNode(document.activeElement)&&D.value.blur()});const E=p(()=>["".concat(o,"-").concat(e.multiple?"multiple":"single"),{["".concat(o,"-opened")]:e.opened,["".concat(o,"-borderless")]:!e.bordered}]);return{inputRef:D,handleFocus:m,handleBlur:y,render:()=>e.multiple?h(_a,{ref:j,baseCls:o,class:E.value,modelValue:e.modelValue,inputValue:e.inputValue,focused:e.opened,placeholder:e.placeholder,disabled:f.value,size:C.value,error:V.value,maxTagCount:e.maxTagCount,disabledInput:!e.allowSearch&&!e.allowCreate,retainInputValue:!0,uninjectFormItemContext:!0,onRemove:R,onFocus:m,onBlur:y},{prefix:t.prefix,suffix:P,tag:t.label}):h(ia,{ref:j,baseCls:o,class:E.value,modelValue:e.modelValue[0],inputValue:e.inputValue,focused:e.opened,placeholder:e.placeholder,disabled:f.value,size:C.value,error:V.value,enabledInput:K.value,uninjectFormItemContext:!0,onFocus:m,onBlur:y},{default:t.label,prefix:t.prefix,suffix:P})}},methods:{focus(){this.inputRef&&this.inputRef.focus()},blur(){this.inputRef&&this.inputRef.blur()}},render(){return this.render()}});const Ca=Y({name:"Optgroup",props:{label:{type:String}},setup(){return{prefixCls:X("select-group")}}});function Sa(e,l,t,n,u,r){return T(),J(Pe,null,[ie("li",{class:H("".concat(e.prefixCls,"-title"))},[L(e.$slots,"label",{},()=>[xe(We(e.label),1)])],2),L(e.$slots,"default")],64)}var Ke=ne(Ca,[["render",Sa]]);const Ul=typeof window>"u"?global:window;function wa(e,l){let t=0;return(...n)=>{t&&Ul.clearTimeout(t),t=Ul.setTimeout(()=>{t=0,e(...n)},l)}}var Oa=Object.defineProperty,Va=Object.defineProperties,ka=Object.getOwnPropertyDescriptors,ql=Object.getOwnPropertySymbols,Ba=Object.prototype.hasOwnProperty,Pa=Object.prototype.propertyIsEnumerable,Zl=(e,l,t)=>l in e?Oa(e,l,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[l]=t,Te=(e,l)=>{for(var t in l||(l={}))Ba.call(l,t)&&Zl(e,t,l[t]);if(ql)for(var t of ql(l))Pa.call(l,t)&&Zl(e,t,l[t]);return e},Ia=(e,l)=>Va(e,ka(l));function za(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!Bt(e)}const Ra={value:"value",label:"label",disabled:"disabled",tagProps:"tagProps",render:"render"};var ml=Y({name:"Select",components:{Trigger:Ue,SelectView:Gl},inheritAttrs:!1,props:{multiple:{type:Boolean,default:!1},modelValue:{type:[String,Number,Object,Array]},defaultValue:{type:[String,Number,Object,Array],default:e=>Fe(e.multiple)?"":[]},inputValue:{type:String},defaultInputValue:{type:String,default:""},size:{type:String},placeholder:String,loading:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},error:{type:Boolean,default:!1},allowClear:{type:Boolean,default:!1},allowSearch:{type:[Boolean,Object],default:e=>!!e.multiple},allowCreate:{type:Boolean,default:!1},maxTagCount:{type:Number,default:0},popupContainer:{type:[String,Object]},bordered:{type:Boolean,default:!0},defaultActiveFirstOption:{type:Boolean,default:!0},popupVisible:{type:Boolean,default:void 0},defaultPopupVisible:{type:Boolean,default:!1},unmountOnClose:{type:Boolean,default:!1},filterOption:{type:[Boolean,Function],default:!0},options:{type:Array,default:()=>[]},virtualListProps:{type:Object},triggerProps:{type:Object},formatLabel:{type:Function},fallbackOption:{type:[Boolean,Function],default:!0},showExtraOptions:{type:Boolean,default:!0},valueKey:{type:String,default:"value"},searchDelay:{type:Number,default:500},limit:{type:Number,default:0},fieldNames:{type:Object},scrollbar:{type:[Boolean,Object],default:!0},showHeaderOnEmpty:{type:Boolean,default:!1},showFooterOnEmpty:{type:Boolean,default:!1}},emits:{"update:modelValue":e=>!0,"update:inputValue":e=>!0,"update:popupVisible":e=>!0,change:e=>!0,inputValueChange:e=>!0,popupVisibleChange:e=>!0,clear:e=>!0,remove:e=>!0,search:e=>!0,dropdownScroll:e=>!0,dropdownReachBottom:e=>!0,exceedLimit:(e,l)=>!0},setup(e,{slots:l,emit:t,attrs:n}){const{size:u,disabled:r,error:o,options:a,filterOption:s,valueKey:f,multiple:d,popupVisible:V,showExtraOptions:C,modelValue:w,fieldNames:j,loading:D,defaultActiveFirstOption:B}=ce(e),K=X("select"),{mergedSize:k,mergedDisabled:m,mergedError:y,eventHandlers:R}=qe({size:u,disabled:r,error:o}),c=p(()=>e.virtualListProps?"div":"li"),v=p(()=>se(e.allowSearch)&&!!e.allowSearch.retainInputValue);p(()=>{if(ke(e.formatLabel))return i=>{const g=Z.get(i.value);return e.formatLabel(g)}});const P=_(),E=_({}),O=_(),{computedPopupVisible:$,handlePopupVisibleChange:F}=Je({popupVisible:V,emit:t}),N=_(e.defaultValue),M=p(()=>{var i;const g=(i=e.modelValue)!=null?i:N.value;return(at(g)?g:g||pe(g)||Cl(g)?[g]:[]).map(A=>({value:A,key:je(A,e.valueKey)}))});re(w,i=>{(Fe(i)||nt(i))&&(N.value=d.value?[]:i)});const I=p(()=>M.value.map(i=>i.key)),U=p(()=>Te(Te({},Ra),j==null?void 0:j.value)),x=_(),q=i=>{const g={};return i.forEach(S=>{g[S]=Z.get(S)}),g},ee=i=>{x.value=q(i)},fe=i=>ke(e.fallbackOption)?e.fallbackOption(i):{[U.value.value]:i,[U.value.label]:String(se(i)?i[f==null?void 0:f.value]:i)},de=()=>{const i=[],g=[];if(e.allowCreate||e.fallbackOption){for(const S of M.value)if(!g.includes(S.key)&&S.value!==""){const A=Z.get(S.key);(!A||A.origin==="extraOptions")&&(i.push(S),g.push(S.key))}}if(e.allowCreate&&ue.value){const S=je(ue.value);if(!g.includes(S)){const A=Z.get(S);(!A||A.origin==="extraOptions")&&i.push({value:ue.value,key:S})}}return i},oe=_([]),we=p(()=>oe.value.map(i=>{var g;let S=fe(i.value);const A=(g=x.value)==null?void 0:g[i.key];return!Fe(A)&&!kt(A)&&(S=Te(Te({},S),A)),S}));me(()=>{Vt(()=>{var i;const g=de();if(g.length!==oe.value.length)oe.value=g;else if(g.length>0){for(let S=0;S<g.length;S++)if(g[S].key!==((i=oe.value[S])==null?void 0:i.key)){oe.value=g;break}}})});const be=_(""),ue=p(()=>{var i;return(i=e.inputValue)!=null?i:be.value});re($,i=>{!i&&!v.value&&ue.value&&ve("")});const he=i=>{var g,S;return e.multiple?i.map(A=>{var Ee,ye;return(ye=(Ee=Z.get(A))==null?void 0:Ee.value)!=null?ye:""}):(S=(g=Z.get(i[0]))==null?void 0:g.value)!=null?S:hn(Z)?void 0:""},ge=i=>{var g,S;const A=he(i);N.value=A,t("update:modelValue",A),t("change",A),(S=(g=R.value)==null?void 0:g.onChange)==null||S.call(g),ee(i)},ve=i=>{be.value=i,t("update:inputValue",i),t("inputValueChange",i)},Xe=(i,g)=>{if(e.multiple){if(I.value.includes(i)){const S=I.value.filter(A=>A!==i);ge(S)}else if(Re.value.includes(i))if(e.limit>0&&I.value.length>=e.limit){const S=Z.get(i);t("exceedLimit",S==null?void 0:S.value,g)}else{const S=I.value.concat(i);ge(S)}v.value||ve("")}else{if(i!==I.value[0]&&ge([i]),v.value){const S=Z.get(i);S&&ve(S.label)}F(!1)}},Qe=wa(i=>{t("search",i)},e.searchDelay),el=i=>{i!==ue.value&&($.value||F(!0),ve(i),e.allowSearch&&Qe(i))},ll=i=>{const g=Z.get(i),S=I.value.filter(A=>A!==i);ge(S),t("remove",g==null?void 0:g.value)},Bl=i=>{i==null||i.stopPropagation();const g=I.value.filter(S=>{var A;return(A=Z.get(S))==null?void 0:A.disabled});ge(g),ve(""),t("clear",i)},b=i=>{t("dropdownScroll",i)},z=i=>{t("dropdownReachBottom",i)},{validOptions:W,optionInfoMap:Z,validOptionInfos:Oe,enabledOptionKeys:Re,handleKeyDown:Ve}=Rn({multiple:d,options:a,extraOptions:we,inputValue:ue,filterOption:s,showExtraOptions:C,component:c,valueKey:f,fieldNames:j,loading:D,popupVisible:$,valueKeys:I,dropdownRef:P,optionRefs:E,virtualListRef:O,defaultActiveFirstOption:B,onSelect:Xe,onPopupVisibleChange:F}),mt=p(()=>{var i;const g=[];for(const S of M.value){const A=Z.get(S.key);A&&g.push(Ia(Te({},A),{value:S.key,label:(i=A==null?void 0:A.label)!=null?i:String(se(S.value)?S.value[f==null?void 0:f.value]:S.value),closable:!(A!=null&&A.disabled),tagProps:A==null?void 0:A.tagProps}))}return g}),bt=i=>{if(ke(l.option)){const g=l.option;return()=>g({data:i.raw})}return ke(i.render)?i.render:()=>i.label},tl=i=>{if(pt(i)){let g;return h(Ke,{key:i.key,label:i.label},za(g=i.options.map(S=>tl(S)))?g:{default:()=>[g]})}return Ye(i,{inputValue:ue.value,filterOption:s==null?void 0:s.value})?h(Ne,{ref:g=>{g!=null&&g.$el&&(E.value[i.key]=g.$el)},key:i.key,value:i.value,label:i.label,disabled:i.disabled,internal:!0},{default:bt(i)}):null},ht=()=>h(sn,{ref:P,loading:e.loading,empty:Oe.value.length===0,virtualList:!!e.virtualListProps,scrollbar:e.scrollbar,showHeaderOnEmpty:e.showHeaderOnEmpty,showFooterOnEmpty:e.showFooterOnEmpty,onScroll:b,onReachBottom:z},{default:()=>{var i,g;return[...(g=(i=l.default)==null?void 0:i.call(l))!=null?g:[],...W.value.map(tl)]},"virtual-list":()=>h(Ln,ae(e.virtualListProps,{ref:O,data:W.value}),{item:({item:i})=>tl(i)}),empty:l.empty,header:l.header,footer:l.footer}),gt=({data:i})=>{var g,S,A,Ee;if((l.label||ke(e.formatLabel))&&i){const ye=Z.get(i.value);if(ye!=null&&ye.raw)return(A=(g=l.label)==null?void 0:g.call(l,{data:ye.raw}))!=null?A:(S=e.formatLabel)==null?void 0:S.call(e,ye.raw)}return(Ee=i==null?void 0:i.label)!=null?Ee:""};return()=>h(Ue,ae({trigger:"click",position:"bl",popupOffset:4,animationName:"slide-dynamic-origin",hideEmpty:!0,preventFocus:!0,autoFitPopupWidth:!0,autoFitTransformOrigin:!0,disabled:m.value,popupVisible:$.value,unmountOnClose:e.unmountOnClose,clickToClose:!(e.allowSearch||e.allowCreate),popupContainer:e.popupContainer,onPopupVisibleChange:F},e.triggerProps),{default:()=>{var i,g;return[(g=(i=l.trigger)==null?void 0:i.call(l))!=null?g:h(Gl,ae({class:K,modelValue:mt.value,inputValue:ue.value,multiple:e.multiple,disabled:m.value,error:y.value,loading:e.loading,allowClear:e.allowClear,allowCreate:e.allowCreate,allowSearch:!!e.allowSearch,opened:$.value,maxTagCount:e.maxTagCount,placeholder:e.placeholder,bordered:e.bordered,size:k.value,onInputValueChange:el,onRemove:ll,onClear:Bl,onKeydown:Ve},n),{label:gt,prefix:l.prefix,"arrow-icon":l["arrow-icon"],"loading-icon":l["loading-icon"],"search-icon":l["search-icon"]})]},content:ht})}});const Ma=Object.assign(ml,{Option:Ne,OptGroup:Ke,install:(e,l)=>{Ce(e,l);const t=Se(l);e.component(t+ml.name,ml),e.component(t+Ne.name,Ne),e.component(t+Ke.name,Ke)}});export{Da as D,st as E,qn as I,Me as K,Ft as R,Ma as S,ba as T,Ln as V,on as a,ct as b,qt as c,He as d,zn as g,en as u};
