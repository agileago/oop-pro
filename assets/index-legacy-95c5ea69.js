System.register(["./index-legacy-3cc2b1e7.js","./index-legacy-3b3e9056.js","./index-legacy-e35d79cb.js"],(function(e,l){"use strict";var t,o,a,n,i,u,r,s,p,d,c,v,f,m,b,y,g,h,S,C,O,x,w,$,V,k,B,P,z,j,I,R,T,E,M,_,N,A,D,K,H,L,F,W,q,G,Z,U,Y,J,X,Q,ee,le,te,oe,ae,ne,ie,ue,re,se,pe,de,ce,ve,fe,me,be,ye,ge,he,Se,Ce,Oe,xe,we,$e,Ve,ke;return{setters:[e=>{t=e.d,o=e.i,a=e.c,n=e.aL,i=e.Y,u=e.G,r=e.af,s=e.aM,p=e.an,d=e._,c=e.g,v=e.s,f=e.o,m=e.a,b=e.b,y=e.n,g=e.f,h=e.v,S=e.aj,C=e.l,O=e.y,x=e.z,w=e.F,$=e.a0,V=e.h,k=e.K,B=e.ao,P=e.X,z=e.I,j=e.J,I=e.q,R=e.e,T=e.m,E=e.x,M=e.L,_=e.ab,N=e.t,A=e.ah,D=e.a7,K=e.a8,H=e.aN,L=e.a9,F=e.u,W=e.Z,q=e.j,G=e.k,Z=e.C,U=e.W,Y=e.a1,J=e.p,X=e.aO,Q=e.r,ee=e.ag,le=e.aP,te=e.O,oe=e.P,ae=e.N,ne=e.aQ,ie=e.aF,ue=e.aK,re=e.w,se=e.aR,pe=e.ak},e=>{de=e.m,ce=e.f,ve=e.R,fe=e.C,me=e.T,be=e.b,ye=e.E,ge=e.o,he=e.D,Se=e.F,Ce=e.H,Oe=e.y,xe=e.a},e=>{we=e.B,$e=e.c,Ve=e.u,ke=e.a}],execute:function(){var l=e("R",t({name:"ResizeObserver",emits:["resize"],setup(e,{emit:l,slots:t}){let d;const c=o(),v=a((()=>n(c.value)?c.value.$el:c.value)),f=e=>{e&&(d=new de((e=>{const t=e[0];l("resize",t)})),d.observe(e))},m=()=>{d&&(d.disconnect(),d=null)};return i(v,(e=>{d&&m(),e&&f(e)})),u((()=>{v.value&&f(v.value)})),r((()=>{m()})),()=>{var e,l;const o=s(null!=(l=null==(e=t.default)?void 0:e.call(t))?l:[]);return o?p(o,{ref:c},!0):null}}}));const Be=t({name:"IconEmpty",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},emits:{click:e=>!0},setup(e,{emit:l}){const t=c("icon");return{cls:a((()=>[t,`${t}-empty`,{[`${t}-spin`]:e.spin}])),innerStyle:a((()=>{const l={};return e.size&&(l.fontSize=v(e.size)?`${e.size}px`:e.size),e.rotate&&(l.transform=`rotate(${e.rotate}deg)`),l})),onClick:e=>{l("click",e)}}}}),Pe=["stroke-width","stroke-linecap","stroke-linejoin"],ze=[g("path",{d:"M24 5v6m7 1 4-4m-18 4-4-4m28.5 22H28s-1 3-4 3-4-3-4-3H6.5M40 41H8a2 2 0 0 1-2-2v-8.46a2 2 0 0 1 .272-1.007l6.15-10.54A2 2 0 0 1 14.148 18H33.85a2 2 0 0 1 1.728.992l6.149 10.541A2 2 0 0 1 42 30.541V39a2 2 0 0 1-2 2Z"},null,-1)];var je=d(Be,[["render",function(e,l,t,o,a,n){return f(),m("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:b(e.cls),style:y(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin,onClick:l[0]||(l[0]=(...l)=>e.onClick&&e.onClick(...l))},ze,14,Pe)}]]);const Ie=Object.assign(je,{install:(e,l)=>{var t;const o=null!=(t=null==l?void 0:l.iconPrefix)?t:"";e.component(o+je.name,je)}});var Re=t({name:"Empty",props:{description:String,imgSrc:String,inConfigProvider:{type:Boolean,default:!1}},setup(e,{slots:l}){const t=c("empty"),{t:o}=ce(),a=h(S,void 0);return()=>{var n,i,u,r;return e.inConfigProvider||!(null==a?void 0:a.slots.empty)||l.image||e.imgSrc||e.description?C("div",{class:t},[C("div",{class:`${t}-image`},[null!=(i=null==(n=l.image)?void 0:n.call(l))?i:e.imgSrc?C("img",{src:e.imgSrc,alt:e.description||"empty"},null):C(Ie,null,null)]),C("div",{class:`${t}-description`},[null!=(r=null==(u=l.default)?void 0:u.call(l))?r:e.description||o("empty.description")])]):a.slots.empty({component:"empty"})}}});const Te=e("E",Object.assign(Re,{install:(e,l)=>{O(e,l);const t=x(l);e.component(t+Re.name,Re)}}));var Ee=t({name:"DotLoading",props:{size:{type:Number}},setup(e){const l=c("dot-loading");return()=>{const t=e.size?{width:`${e.size}px`,height:`${e.size}px`}:{};return C("div",{class:l,style:{width:e.size?7*e.size+"px":void 0,height:e.size?`${e.size}px`:void 0}},[Array(5).fill(1).map(((e,o)=>C("div",{class:`${l}-item`,key:o,style:t},null)))])}}}),Me=t({name:"Spin",props:{size:{type:Number},loading:Boolean,dot:Boolean,tip:String,hideIcon:{type:Boolean,default:!1}},setup(e,{slots:l}){const t=c("spin"),o=h(S,void 0),n=a((()=>[t,{[`${t}-loading`]:e.loading,[`${t}-with-tip`]:e.tip&&!l.default}])),i=()=>{if(l.icon){const e=s(l.icon());if(e)return p(e,{spin:!0})}return l.element?l.element():e.dot?C(Ee,{size:e.size},null):(null==o?void 0:o.slots.loading)?o.slots.loading():C($,{spin:!0,size:e.size},null)},u=()=>{var o,a,n;const u=e.size?{fontSize:`${e.size}px`}:void 0,r=Boolean(null!=(o=l.tip)?o:e.tip);return C(w,null,[!e.hideIcon&&C("div",{class:`${t}-icon`,style:u},[i()]),r&&C("div",{class:`${t}-tip`},[null!=(n=null==(a=l.tip)?void 0:a.call(l))?n:e.tip])])};return()=>C("div",{class:n.value},[l.default?C(w,null,[l.default(),e.loading&&C("div",{class:`${t}-mask`},[C("div",{class:`${t}-mask-icon`},[u()])])]):u()])}});const _e=e("c",Object.assign(Me,{install:(e,l)=>{O(e,l);const t=x(l);e.component(t+Me.name,Me)}})),Ne=t({name:"Thumb",props:{data:{type:Object},direction:{type:String,default:"horizontal"},alwaysShow:{type:Boolean,default:!1},both:{type:Boolean,default:!1}},emits:["scroll"],setup(e,{emit:l}){const t=c("scrollbar"),n=o(!1),i=o(),u=o(),r=a((()=>"horizontal"===e.direction?{size:"width",direction:"left",offset:"offsetWidth",client:"clientX"}:{size:"height",direction:"top",offset:"offsetHeight",client:"clientY"})),s=o(0),p=o(!1),d=o(0),v=a((()=>{var l,t;return{[r.value.size]:`${null!=(t=null==(l=e.data)?void 0:l.thumbSize)?t:0}px`,[r.value.direction]:`${s.value}px`}})),f=l=>l<0?0:e.data&&l>e.data.max?e.data.max:l,m=e=>{if(i.value&&u.value){const t=f(e[r.value.client]-i.value.getBoundingClientRect()[r.value.direction]-d.value);t!==s.value&&(s.value=t,l("scroll",t))}},b=()=>{p.value=!1,j(window,"mousemove",m),j(window,"mouseup",b)},y=a((()=>[`${t}-thumb`,`${t}-thumb-direction-${e.direction}`,{[`${t}-thumb-dragging`]:p.value}]));return{visible:n,trackRef:i,thumbRef:u,prefixCls:t,thumbCls:y,thumbStyle:v,handleThumbMouseDown:e=>{e.preventDefault(),u.value&&(d.value=e[r.value.client]-u.value.getBoundingClientRect()[r.value.direction],p.value=!0,z(window,"mousemove",m),z(window,"mouseup",b),z(window,"contextmenu",b))},handleTrackClick:t=>{var o,a,n,i;if(t.preventDefault(),u.value){const p=f(t[r.value.client]>u.value.getBoundingClientRect()[r.value.direction]?s.value+(null!=(a=null==(o=e.data)?void 0:o.thumbSize)?a:0):s.value-(null!=(i=null==(n=e.data)?void 0:n.thumbSize)?i:0));p!==s.value&&(s.value=p,l("scroll",p))}},setOffset:e=>{p.value||(e=f(e))!==s.value&&(s.value=e)}}}}),Ae=t({name:"Scrollbar",components:{ResizeObserver:ve,Thumb:d(Ne,[["render",function(e,l,t,o,a,n){return f(),V(P,null,{default:k((()=>[g("div",{ref:"trackRef",class:b([`${e.prefixCls}-track`,`${e.prefixCls}-track-direction-${e.direction}`]),onMousedown:l[1]||(l[1]=B(((...l)=>e.handleTrackClick&&e.handleTrackClick(...l)),["self"]))},[g("div",{ref:"thumbRef",class:b(e.thumbCls),style:y(e.thumbStyle),onMousedown:l[0]||(l[0]=(...l)=>e.handleThumbMouseDown&&e.handleThumbMouseDown(...l))},[g("div",{class:b(`${e.prefixCls}-thumb-bar`)},null,2)],38)],34)])),_:1})}]])},inheritAttrs:!1,props:{type:{type:String,default:"embed"},outerClass:[String,Object,Array],outerStyle:{type:[String,Object,Array]},hide:{type:Boolean,default:!1},disableHorizontal:{type:Boolean,default:!1},disableVertical:{type:Boolean,default:!1}},emits:{scroll:e=>!0},setup(e,{emit:l}){const t=c("scrollbar"),n=o(),i=o(),r=o(),s=o(),p=o(),d=o(!1),v=o(!1),f=a((()=>d.value&&!e.disableHorizontal)),m=a((()=>v.value&&!e.disableVertical)),b=o(!1),y=()=>{var l,t,o,a,u,c;if(n.value){const{clientWidth:y,clientHeight:g,offsetWidth:h,offsetHeight:S,scrollWidth:C,scrollHeight:O,scrollTop:x,scrollLeft:w}=n.value;d.value=C>y,v.value=O>g,b.value=f.value&&m.value;const $="embed"===e.type&&b.value?h-15:h,V="embed"===e.type&&b.value?S-15:S,k=Math.round($/Math.min(C/y,$/20)),B=$-k,P=(C-y)/B,z=Math.round(V/Math.min(O/g,V/20)),j=V-z,I=(O-g)/j;if(i.value={ratio:P,thumbSize:k,max:B},r.value={ratio:I,thumbSize:z,max:j},x>0){const e=Math.round(x/(null!=(t=null==(l=r.value)?void 0:l.ratio)?t:1));null==(o=p.value)||o.setOffset(e)}if(w>0){const e=Math.round(w/(null!=(u=null==(a=r.value)?void 0:a.ratio)?u:1));null==(c=s.value)||c.setOffset(e)}}};u((()=>{y()}));const g=a((()=>{const l={};return"track"===e.type&&(f.value&&(l.paddingBottom="15px"),m.value&&(l.paddingRight="15px")),[l,e.outerStyle]})),h=a((()=>[`${t}`,`${t}-type-${e.type}`,{[`${t}-both`]:b.value},e.outerClass]));return{prefixCls:t,cls:h,style:g,containerRef:n,horizontalThumbRef:s,verticalThumbRef:p,horizontalData:i,verticalData:r,isBoth:b,hasHorizontalScrollbar:f,hasVerticalScrollbar:m,handleResize:()=>{y()},handleScroll:t=>{var o,a,u,d,c,v;if(n.value){if(f.value&&!e.disableHorizontal){const e=Math.round(n.value.scrollLeft/(null!=(a=null==(o=i.value)?void 0:o.ratio)?a:1));null==(u=s.value)||u.setOffset(e)}if(m.value&&!e.disableVertical){const e=Math.round(n.value.scrollTop/(null!=(c=null==(d=r.value)?void 0:d.ratio)?c:1));null==(v=p.value)||v.setOffset(e)}}l("scroll",t)},handleHorizontalScroll:e=>{var l,t;n.value&&n.value.scrollTo({left:e*(null!=(t=null==(l=i.value)?void 0:l.ratio)?t:1)})},handleVerticalScroll:e=>{var l,t;n.value&&n.value.scrollTo({top:e*(null!=(t=null==(l=r.value)?void 0:l.ratio)?t:1)})}}},methods:{scrollTo(e,l){var t,o;I(e)?null==(t=this.$refs.containerRef)||t.scrollTo(e):(e||l)&&(null==(o=this.$refs.containerRef)||o.scrollTo(e,l))},scrollTop(e){var l;null==(l=this.$refs.containerRef)||l.scrollTo({top:e})},scrollLeft(e){var l;null==(l=this.$refs.containerRef)||l.scrollTo({left:e})}}});var De=d(Ae,[["render",function(e,l,t,o,a,n){const i=R("ResizeObserver"),u=R("thumb");return f(),m("div",{class:b(e.cls),style:y(e.style)},[C(i,{onResize:e.handleResize},{default:k((()=>[g("div",T({ref:"containerRef",class:`${e.prefixCls}-container`},e.$attrs,{onScroll:l[0]||(l[0]=(...l)=>e.handleScroll&&e.handleScroll(...l))}),[C(i,{onResize:e.handleResize},{default:k((()=>[E(e.$slots,"default")])),_:3},8,["onResize"])],16)])),_:3},8,["onResize"]),!e.hide&&e.hasHorizontalScrollbar?(f(),V(u,{key:0,ref:"horizontalThumbRef",data:e.horizontalData,direction:"horizontal",both:e.isBoth,onScroll:e.handleHorizontalScroll},null,8,["data","both","onScroll"])):M("v-if",!0),!e.hide&&e.hasVerticalScrollbar?(f(),V(u,{key:1,ref:"verticalThumbRef",data:e.verticalData,direction:"vertical",both:e.isBoth,onScroll:e.handleVerticalScroll},null,8,["data","both","onScroll"])):M("v-if",!0)],6)}]]);const Ke=e("b",Object.assign(De,{install:(e,l)=>{O(e,l);const t=x(l);e.component(t+De.name,De)}})),He=e("u",(e=>{const l=o(),t=()=>n(l.value)?l.value.$refs[e]:l.value,a=o();return u((()=>{a.value=t()})),i([l],(()=>{a.value=t()})),{componentRef:l,elementRef:a}}));var Le=Object.defineProperty,Fe=Object.getOwnPropertySymbols,We=Object.prototype.hasOwnProperty,qe=Object.prototype.propertyIsEnumerable,Ge=(e,l,t)=>l in e?Le(e,l,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[l]=t;const Ze=e("a",(e=>({displayScrollbar:a((()=>Boolean(e.value))),scrollbarProps:a((()=>{if(e.value)return((e,l)=>{for(var t in l||(l={}))We.call(l,t)&&Ge(e,t,l[t]);if(Fe)for(var t of Fe(l))qe.call(l,t)&&Ge(e,t,l[t]);return e})({type:"embed"},_(e.value)?void 0:e.value)}))}))),Ue=t({name:"SelectDropdown",components:{ScrollbarComponent:Ke,Empty:Te,Spin:_e},props:{loading:Boolean,empty:Boolean,virtualList:Boolean,bottomOffset:{type:Number,default:0},scrollbar:{type:[Boolean,Object],default:!0},onScroll:{type:[Function,Array]},onReachBottom:{type:[Function,Array]},showHeaderOnEmpty:{type:Boolean,default:!1},showFooterOnEmpty:{type:Boolean,default:!1}},emits:["scroll","reachBottom"],setup(e,{emit:l,slots:t}){var o,n,i;const{scrollbar:u}=N(e),r=c("select-dropdown"),s=h(S,void 0),p=null==(i=null==(n=null==s?void 0:(o=s.slots).empty)?void 0:n.call(o,{component:"select"}))?void 0:i[0],{componentRef:d,elementRef:v}=He("containerRef"),{displayScrollbar:f,scrollbarProps:m}=Ze(u),b=a((()=>[r,{[`${r}-has-header`]:Boolean(t.header),[`${r}-has-footer`]:Boolean(t.footer)}]));return{prefixCls:r,SelectEmpty:p,cls:b,wrapperRef:v,wrapperComRef:d,handleScroll:t=>{const{scrollTop:o,scrollHeight:a,offsetHeight:n}=t.target;a-(o+n)<=e.bottomOffset&&l("reachBottom",t),l("scroll",t)},displayScrollbar:f,scrollbarProps:m}}});var Ye=d(Ue,[["render",function(e,l,t,o,a,n){const i=R("spin");return f(),m("div",{class:b(e.cls)},[!e.$slots.header||e.empty&&!e.showHeaderOnEmpty?M("v-if",!0):(f(),m("div",{key:0,class:b(`${e.prefixCls}-header`)},[E(e.$slots,"header")],2)),e.loading?(f(),V(i,{key:1,class:b(`${e.prefixCls}-loading`)},null,8,["class"])):e.empty?(f(),m("div",{key:2,class:b(`${e.prefixCls}-empty`)},[E(e.$slots,"empty",{},(()=>[(f(),V(A(e.SelectEmpty?e.SelectEmpty:"Empty")))]))],2)):M("v-if",!0),!e.virtualList||e.loading||e.empty?M("v-if",!0):E(e.$slots,"virtual-list",{key:3}),e.virtualList?M("v-if",!0):D((f(),V(A(e.displayScrollbar?"ScrollbarComponent":"div"),T({key:4,ref:"wrapperComRef",class:`${e.prefixCls}-list-wrapper`},e.scrollbarProps,{onScroll:e.handleScroll}),{default:k((()=>[g("ul",{class:b(`${e.prefixCls}-list`)},[E(e.$slots,"default")],2)])),_:3},16,["class","onScroll"])),[[K,!e.loading&&!e.empty]]),!e.$slots.footer||e.empty&&!e.showFooterOnEmpty?M("v-if",!0):(f(),m("div",{key:5,class:b(`${e.prefixCls}-footer`)},[E(e.$slots,"footer")],2))],2)}]]);const Je=Symbol("ArcoSelectContext");var Xe=Object.defineProperty,Qe=Object.defineProperties,el=Object.getOwnPropertyDescriptors,ll=Object.getOwnPropertySymbols,tl=Object.prototype.hasOwnProperty,ol=Object.prototype.propertyIsEnumerable,al=(e,l,t)=>l in e?Xe(e,l,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[l]=t,nl=(e,l)=>{for(var t in l||(l={}))tl.call(l,t)&&al(e,t,l[t]);if(ll)for(var t of ll(l))ol.call(l,t)&&al(e,t,l[t]);return e},il=(e,l)=>Qe(e,el(l));const ul=e=>I(e)&&"isGroup"in e,rl=(e,l="value")=>String(I(e)?e[l]:e),sl=(e,l="value")=>I(e)?`__arco__option__object__${e[l]}`:e||v(e)||H(e)?`__arco__option__${typeof e}-${e}`:"",pl=(e,{valueKey:l,fieldNames:t,origin:o,index:a=-1})=>{var n;if(I(e)){const i=e[t.value];return{raw:e,index:a,key:sl(i,l),origin:o,value:i,label:null!=(n=e[t.label])?n:rl(i,l),render:e[t.render],disabled:Boolean(e[t.disabled]),tagProps:e[t.tagProps]}}const i={value:e,label:String(e),disabled:!1};return nl({raw:i,index:a,key:sl(e,l),origin:o},i)},dl=(e,{valueKey:l,fieldNames:t,origin:o,optionInfoMap:a})=>{var n;const i=[];for(const r of e)if(I(u=r)&&"isGroup"in u){const e=dl(null!=(n=r.options)?n:[],{valueKey:l,fieldNames:t,origin:o,optionInfoMap:a});e.length>0&&i.push(il(nl({},r),{key:`__arco__group__${r.label}`,options:e}))}else{const e=pl(r,{valueKey:l,fieldNames:t,origin:o});i.push(e),a.get(e.key)||a.set(e.key,e)}var u;return i},cl=(e,{inputValue:l,filterOption:t})=>{const o=e=>{var a;const n=[];for(const i of e)if(ul(i)){const e=o(null!=(a=i.options)?a:[]);e.length>0&&n.push(il(nl({},i),{options:e}))}else vl(i,{inputValue:l,filterOption:t})&&n.push(i);return n};return o(e)},vl=(e,{inputValue:l,filterOption:t})=>L(t)?!l||t(l,e.raw):!t||e.label.toLowerCase().includes((null!=l?l:"").toLowerCase()),fl=(e,l)=>{const t=Object.prototype.toString.call(e);return t===Object.prototype.toString.call(l)&&("[object Object]"===t?((e,l)=>{if(!e||!l)return!1;if(e.length!==l.length)return!1;for(const t of Object.keys(e))if(!fl(e[t],l[t]))return!1;return!0})(e,l):"[object Array]"===t?((e,l)=>{if(!e||!l)return!1;const{length:t}=e;if(t!==l.length)return!1;for(let o=0;o<t;o++)if(!fl(e[o],l[o]))return!1;return!0})(e,l):"[object Function]"===t?e===l||e.toString()===l.toString():e===l)},ml=t({name:"Option",components:{Checkbox:fe},props:{value:[String,Number,Object],label:String,disabled:Boolean,tagProps:{type:Object},extra:{type:Object},index:{type:Number},internal:Boolean},setup(e){const{disabled:l,tagProps:t,index:n}=N(e),r=c("select-option"),s=h(Je,void 0),p=F(),d=o(),v=o(t.value);i(t,((e,l)=>{fl(e,l)||(v.value=e)}));const f=o(""),m=a((()=>{var l,t;return null!=(t=null!=(l=e.value)?l:e.label)?t:f.value})),b=a((()=>{var l;return null!=(l=e.label)?l:f.value})),y=a((()=>sl(m.value,null==s?void 0:s.valueKey))),g=a((()=>{var e;return null!=(e=null==s?void 0:s.component)?e:"li"})),S=()=>{var l;if(!e.label&&d.value){const e=null!=(l=d.value.textContent)?l:"";f.value!==e&&(f.value=e)}};u((()=>S())),W((()=>S()));const C=a((()=>{var e;return null!=(e=null==s?void 0:s.valueKeys.includes(y.value))&&e})),O=a((()=>(null==s?void 0:s.activeKey)===y.value));let x=o(!0);if(!e.internal){const e=q({raw:{value:m,label:b,disabled:l,tagProps:v},ref:d,index:n,key:y,origin:"slot",value:m,label:b,disabled:l,tagProps:v});x=a((()=>vl(e,{inputValue:null==s?void 0:s.inputValue,filterOption:null==s?void 0:s.filterOption}))),p&&(null==s||s.addSlotOptionInfo(p.uid,e)),G((()=>{p&&(null==s||s.removeSlotOptionInfo(p.uid))}))}const w=a((()=>[r,{[`${r}-disabled`]:e.disabled,[`${r}-active`]:O.value,[`${r}-multiple`]:null==s?void 0:s.multiple}]));return{prefixCls:r,cls:w,selectCtx:s,itemRef:d,component:g,isSelected:C,isValid:x,handleClick:l=>{e.disabled||null==s||s.onSelect(y.value,l)},handleMouseEnter:()=>{e.disabled||null==s||s.setActiveKey(y.value)},handleMouseLeave:()=>{e.disabled||null==s||s.setActiveKey()}}}});var bl=d(ml,[["render",function(e,l,t,o,a,n){const i=R("checkbox");return D((f(),V(A(e.component),{ref:"itemRef",class:b([e.cls,{[`${e.prefixCls}-has-suffix`]:Boolean(e.$slots.suffix)}]),onClick:e.handleClick,onMouseenter:e.handleMouseEnter,onMouseleave:e.handleMouseLeave},{default:k((()=>[e.$slots.icon?(f(),m("span",{key:0,class:b(`${e.prefixCls}-icon`)},[E(e.$slots,"icon")],2)):M("v-if",!0),e.selectCtx&&e.selectCtx.multiple?(f(),V(i,{key:1,class:b(`${e.prefixCls}-checkbox`),"model-value":e.isSelected,disabled:e.disabled,"uninject-group-context":""},{default:k((()=>[E(e.$slots,"default",{},(()=>[Z(U(e.label),1)]))])),_:3},8,["class","model-value","disabled"])):(f(),m("span",{key:2,class:b(`${e.prefixCls}-content`)},[E(e.$slots,"default",{},(()=>[Z(U(e.label),1)]))],2)),e.$slots.suffix?(f(),m("span",{key:3,class:b(`${e.prefixCls}-suffix`)},[E(e.$slots,"suffix")],2)):M("v-if",!0)])),_:3},8,["class","onClick","onMouseenter","onMouseleave"])),[[K,e.isValid]])}]]),yl=Object.defineProperty,gl=Object.defineProperties,hl=Object.getOwnPropertyDescriptors,Sl=Object.getOwnPropertySymbols,Cl=Object.prototype.hasOwnProperty,Ol=Object.prototype.propertyIsEnumerable,xl=(e,l,t)=>l in e?yl(e,l,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[l]=t,wl=(e,l)=>{for(var t in l||(l={}))Cl.call(l,t)&&xl(e,t,l[t]);if(Sl)for(var t of Sl(l))Ol.call(l,t)&&xl(e,t,l[t]);return e};const $l={value:"value",label:"label",disabled:"disabled",tagProps:"tagProps",render:"render"},Vl=({options:e,extraOptions:l,inputValue:t,filterOption:n,showExtraOptions:u,valueKey:r,fieldNames:s})=>{const p=a((()=>wl(wl({},$l),null==s?void 0:s.value))),d=q(new Map),c=a((()=>Array.from(d.values()).sort(((e,l)=>v(e.index)&&v(l.index)?e.index-l.index:0)))),f=a((()=>{var l,t;const o=new Map;return{optionInfos:dl(null!=(l=null==e?void 0:e.value)?l:[],{valueKey:null!=(t=null==r?void 0:r.value)?t:"value",fieldNames:p.value,origin:"options",optionInfoMap:o}),optionInfoMap:o}})),m=a((()=>{var e,t;const o=new Map;return{optionInfos:dl(null!=(e=null==l?void 0:l.value)?e:[],{valueKey:null!=(t=null==r?void 0:r.value)?t:"value",fieldNames:p.value,origin:"extraOptions",optionInfoMap:o}),optionInfoMap:o}})),b=q(new Map);i([c,null!=e?e:o([]),null!=l?l:o([]),null!=r?r:o("value")],(()=>{b.clear(),c.value.forEach(((e,l)=>{var t;b.set(e.key,(t=wl({},e),gl(t,hl({index:l}))))})),f.value.optionInfoMap.forEach((e=>{b.has(e.key)||(e.index=b.size,b.set(e.key,e))})),m.value.optionInfoMap.forEach((e=>{b.has(e.key)||(e.index=b.size,b.set(e.key,e))}))}),{immediate:!0,deep:!0});const y=a((()=>{var e;const l=cl(f.value.optionInfos,{inputValue:null==t?void 0:t.value,filterOption:null==n?void 0:n.value});return(null==(e=null==u?void 0:u.value)||e)&&l.push(...cl(m.value.optionInfos,{inputValue:null==t?void 0:t.value,filterOption:null==n?void 0:n.value})),l})),g=a((()=>Array.from(b.values()).filter((e=>("extraOptions"!==e.origin||!1!==(null==u?void 0:u.value))&&vl(e,{inputValue:null==t?void 0:t.value,filterOption:null==n?void 0:n.value}))))),h=a((()=>g.value.filter((e=>!e.disabled)).map((e=>e.key))));return{validOptions:y,optionInfoMap:b,validOptionInfos:g,enabledOptionKeys:h,getNextSlotOptionIndex:()=>d.size,addSlotOptionInfo:(e,l)=>{d.set(e,l)},removeSlotOptionInfo:e=>{d.delete(e)}}},kl=e("K",{ENTER:"Enter",ESC:"Escape",BACKSPACE:"Backspace",TAB:"Tab",SPACE:" ",ARROW_UP:"ArrowUp",ARROW_DOWN:"ArrowDown",ARROW_LEFT:"ArrowLeft",ARROW_RIGHT:"ArrowRight"}),Bl=e=>JSON.stringify({key:e.key,ctrl:Boolean(e.ctrl),shift:Boolean(e.shift),alt:Boolean(e.alt),meta:Boolean(e.meta)}),Pl=e("g",(e=>{const l={};return e.forEach(((e,t)=>{const o=H(t)?{key:t}:t;l[Bl(o)]=e})),e=>{const t=Bl({key:e.key,ctrl:e.ctrlKey,shift:e.shiftKey,alt:e.altKey,meta:e.metaKey}),o=l[t];o&&(e.stopPropagation(),o(e))}})),zl=({dataKeys:e,contentRef:l,fixedSize:t,estimatedSize:n,buffer:i})=>{const r=o(0),s=new Map,p=a((()=>e.value.length)),d=o(0),c=a((()=>{const e=d.value+3*i.value;return e>p.value?p.value:e})),v=a((()=>{const e=p.value-3*i.value;return e<0?0:e})),f=o(t.value),m=a((()=>30!==n.value?n.value:r.value||n.value)),b=l=>{var t;if(f.value)return m.value;const o=e.value[l];return null!=(t=s.get(o))?t:m.value};u((()=>{const e=Array.from(s.values()).reduce(((e,l)=>e+l),0);e>0&&(r.value=e/s.size)}));const y=(e,l)=>{let t=0;for(let o=e;o<l;o++)t+=b(o);return t},g=a((()=>f.value?m.value*d.value:y(0,d.value))),h=a((()=>f.value?m.value*(p.value-c.value):y(c.value,p.value)));return{frontPadding:g,behindPadding:h,start:d,end:c,getStartByScroll:e=>{const l=(e=>{const l=e>=g.value;let t=Math.abs(e-g.value);const o=l?d.value:d.value-1;let a=0;for(;t>0;)t-=b(o+a),l?a++:a--;return a})(e),t=d.value+l-i.value;return t<0?0:t>v.value?v.value:t},setItemSize:(e,l)=>{s.set(e,l)},hasItemSize:e=>s.has(e),setStart:e=>{e<0?d.value=0:e>v.value?d.value=v.value:d.value=e},getScrollOffset:e=>f.value?m.value*e:y(0,e)}};var jl=t({name:"VirtualListItem",props:{hasItemSize:{type:Function,required:!0},setItemSize:{type:Function,required:!0}},setup(e,{slots:l}){var t;const a=null==(t=F())?void 0:t.vnode.key,n=o(),i=()=>{var l,t,o,i;const u=null!=(t=null==(l=n.value)?void 0:l.$el)?t:n.value,r=null!=(i=null==(o=null==u?void 0:u.getBoundingClientRect)?void 0:o.call(u).height)?i:null==u?void 0:u.offsetHeight;r&&e.setItemSize(a,r)};return u((()=>i())),G((()=>i())),()=>{var e;const t=s(null==(e=l.default)?void 0:e.call(l));return t?p(t,{ref:n},!0):null}}}),Il=Object.defineProperty,Rl=Object.getOwnPropertySymbols,Tl=Object.prototype.hasOwnProperty,El=Object.prototype.propertyIsEnumerable,Ml=(e,l,t)=>l in e?Il(e,l,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[l]=t;const _l=t({name:"VirtualList",components:{VirtualListItem:jl},props:{height:{type:[Number,String],default:200},data:{type:Array,default:()=>[]},threshold:{type:Number,default:0},itemKey:{type:String,default:"key"},fixedSize:{type:Boolean,default:!1},estimatedSize:{type:Number,default:30},buffer:{type:Number,default:10},component:{type:[String,Object],default:"div"},listAttrs:{type:Object},contentAttrs:{type:Object},paddingPosition:{type:String,default:"content"}},emits:{scroll:e=>!0,reachBottom:e=>!0},setup(e,{emit:l}){const{data:t,itemKey:n,fixedSize:i,estimatedSize:u,buffer:r,height:s}=N(e),p=c("virtual-list"),d=a((()=>I(e.component)?((e,l)=>{for(var t in l||(l={}))Tl.call(l,t)&&Ml(e,t,l[t]);if(Rl)for(var t of Rl(l))El.call(l,t)&&Ml(e,t,l[t]);return e})({container:"div",list:"div",content:"div"},e.component):{container:e.component,list:"div",content:"div"})),f=o(),m=o(),b=a((()=>({height:v(s.value)?`${s.value}px`:s.value,overflow:"auto"}))),y=a((()=>t.value.map(((e,l)=>{var t;return null!=(t=e[n.value])?t:l})))),{frontPadding:g,behindPadding:h,start:S,end:C,getStartByScroll:O,setItemSize:x,hasItemSize:w,setStart:$,getScrollOffset:V}=zl({dataKeys:y,contentRef:m,fixedSize:i,estimatedSize:u,buffer:r}),k=a((()=>e.threshold&&t.value.length<=e.threshold?t.value:t.value.slice(S.value,C.value))),B=e=>{var l,t;if(f.value)if(v(e))f.value.scrollTop=e;else{const o=null!=(t=e.index)?t:y.value.indexOf(null!=(l=e.key)?l:"");$(o-r.value),f.value.scrollTop=V(o),Y((()=>{if(f.value){const e=V(o);e!==f.value.scrollTop&&(f.value.scrollTop=e)}}))}};return{prefixCls:p,containerRef:f,contentRef:m,frontPadding:g,currentList:k,behindPadding:h,onScroll:e=>{const{scrollTop:t,scrollHeight:o,offsetHeight:a}=e.target,n=O(t);n!==S.value&&($(n),Y((()=>{B(t)}))),l("scroll",e),Math.floor(o-(t+a))<=0&&l("reachBottom",e)},setItemSize:x,hasItemSize:w,start:S,scrollTo:B,style:b,mergedComponent:d}}});var Nl=e("V",d(_l,[["render",function(e,l,t,o,a,n){const i=R("VirtualListItem");return f(),V(A(e.mergedComponent.container),{ref:"containerRef",class:b(e.prefixCls),style:y(e.style),onScroll:e.onScroll},{default:k((()=>[(f(),V(A(e.mergedComponent.list),T(e.listAttrs,{style:"list"===e.paddingPosition?{paddingTop:`${e.frontPadding}px`,paddingBottom:`${e.behindPadding}px`}:{}}),{default:k((()=>[(f(),V(A(e.mergedComponent.content),T({ref:"contentRef"},e.contentAttrs,{style:"content"===e.paddingPosition?{paddingTop:`${e.frontPadding}px`,paddingBottom:`${e.behindPadding}px`}:{}}),{default:k((()=>[(f(!0),m(w,null,Q(e.currentList,((l,t)=>{var o;return f(),V(i,{key:null!=(o=l[e.itemKey])?o:e.start+t,"has-item-size":e.hasItemSize,"set-item-size":e.setItemSize},{default:k((()=>[E(e.$slots,"item",{item:l,index:e.start+t})])),_:2},1032,["has-item-size","set-item-size"])})),128))])),_:3},16,["style"]))])),_:3},16,["style"]))])),_:3},8,["class","style","onScroll"])}]]));const Al=t({name:"IconMore",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},emits:{click:e=>!0},setup(e,{emit:l}){const t=c("icon");return{cls:a((()=>[t,`${t}-more`,{[`${t}-spin`]:e.spin}])),innerStyle:a((()=>{const l={};return e.size&&(l.fontSize=v(e.size)?`${e.size}px`:e.size),e.rotate&&(l.transform=`rotate(${e.rotate}deg)`),l})),onClick:e=>{l("click",e)}}}}),Dl=["stroke-width","stroke-linecap","stroke-linejoin"],Kl=[g("path",{d:"M38 25v-2h2v2h-2ZM23 25v-2h2v2h-2ZM8 25v-2h2v2H8Z",fill:"currentColor",stroke:"none"},null,-1),g("path",{d:"M38 25v-2h2v2h-2ZM23 25v-2h2v2h-2ZM8 25v-2h2v2H8Z"},null,-1)];var Hl=d(Al,[["render",function(e,l,t,o,a,n){return f(),m("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:b(e.cls),style:y(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin,onClick:l[0]||(l[0]=(...l)=>e.onClick&&e.onClick(...l))},Kl,14,Dl)}]]);const Ll=e("I",Object.assign(Hl,{install:(e,l)=>{var t;const o=null!=(t=null==l?void 0:l.iconPrefix)?t:"";e.component(o+Hl.name,Hl)}})),Fl=Symbol("ArcoDropdown"),Wl=t({name:"DropdownPanel",components:{Scrollbar:Ke,Empty:Te},props:{loading:{type:Boolean,default:!1},isEmpty:{type:Boolean,default:!1},bottomOffset:{type:Number,default:0},onScroll:{type:[Function,Array]},onReachBottom:{type:[Function,Array]}},emits:["scroll","reachBottom"],setup(e,{emit:l,slots:t}){const n=c("dropdown"),i=h(Fl,{}),u=o(),r=a((()=>v(i.popupMaxHeight)?{maxHeight:`${i.popupMaxHeight}px`}:i.popupMaxHeight?void 0:{maxHeight:"none",overflowY:"hidden"})),s=a((()=>[n,{[`${n}-has-footer`]:Boolean(t.footer)}]));return{prefixCls:n,cls:s,style:r,wrapperRef:u,handleScroll:t=>{const{scrollTop:o,scrollHeight:a,offsetHeight:n}=t.target;a-(o+n)<=e.bottomOffset&&l("reachBottom",t),l("scroll",t)}}}});var ql=d(Wl,[["render",function(e,l,t,o,a,n){const i=R("empty"),u=R("Scrollbar");return f(),m("div",{class:b(e.cls)},[e.isEmpty?(f(),m("div",{key:0,class:b(`${e.prefixCls}-empty`)},[E(e.$slots,"empty",{},(()=>[C(i)]))],2)):M("v-if",!0),C(u,{ref:"wrapperRef",class:b(`${e.prefixCls}-list-wrapper`),style:y(e.style),onScroll:e.handleScroll},{default:k((()=>[g("ul",{class:b(`${e.prefixCls}-list`)},[E(e.$slots,"default")],2)])),_:3},8,["class","style","onScroll"]),e.$slots.footer&&!e.isEmpty?(f(),m("div",{key:1,class:b(`${e.prefixCls}-footer`)},[E(e.$slots,"footer")],2)):M("v-if",!0)],2)}]]);const Gl=({popupVisible:e,defaultPopupVisible:l,emit:t})=>{var n;const u=o(null!=(n=null==l?void 0:l.value)&&n),r=a((()=>{var l;return null!=(l=null==e?void 0:e.value)?l:u.value}));return i(r,(e=>{u.value!==e&&(u.value=e)})),{computedPopupVisible:r,handlePopupVisibleChange:e=>{e!==r.value&&(u.value=e,t("update:popupVisible",e),t("popupVisibleChange",e))}}},Zl=t({name:"Dropdown",components:{Trigger:me,DropdownPanel:ql},props:{popupVisible:{type:Boolean,default:void 0},defaultPopupVisible:{type:Boolean,default:!1},trigger:{type:[String,Array],default:"click"},position:{type:String,default:"bottom"},popupContainer:{type:[String,Object]},popupMaxHeight:{type:[Boolean,Number],default:!0},hideOnSelect:{type:Boolean,default:!0}},emits:{"update:popupVisible":e=>!0,popupVisibleChange:e=>!0,select:(e,l)=>!0},setup(e,{emit:l}){const{defaultPopupVisible:t,popupVisible:o,popupMaxHeight:a}=N(e),n=c("dropdown"),{computedPopupVisible:i,handlePopupVisibleChange:u}=Gl({defaultPopupVisible:t,popupVisible:o,emit:l});return J(Fl,q({popupMaxHeight:a,onOptionClick:(t,o)=>{l("select",t,o),e.hideOnSelect&&u(!1)}})),{prefixCls:n,computedPopupVisible:i,handlePopupVisibleChange:u}}});var Ul=d(Zl,[["render",function(e,l,t,o,a,n){const i=R("DropdownPanel"),u=R("Trigger");return f(),V(u,{"popup-visible":e.computedPopupVisible,"animation-name":"slide-dynamic-origin","auto-fit-transform-origin":"",trigger:e.trigger,position:e.position,"popup-offset":4,"popup-container":e.popupContainer,"opened-class":`${e.prefixCls}-open`,onPopupVisibleChange:e.handlePopupVisibleChange},{content:k((()=>[C(i,null,ee({default:k((()=>[E(e.$slots,"content")])),_:2},[e.$slots.footer?{name:"footer",fn:k((()=>[E(e.$slots,"footer")]))}:void 0]),1024)])),default:k((()=>[E(e.$slots,"default")])),_:3},8,["popup-visible","trigger","position","popup-container","opened-class","onPopupVisibleChange"])}]]);const Yl=t({name:"Doption",props:{value:{type:[String,Number,Object]},disabled:{type:Boolean,default:!1},active:Boolean,uninjectContext:Boolean},emits:{click:e=>!0},setup(e,{emit:l}){const t=c("dropdown-option"),n=o(),i=a((()=>{var l,t,o;return null!=(o=null!=(t=e.value)?t:null==(l=n.value)?void 0:l.textContent)?o:void 0})),u=e.uninjectContext?void 0:h(Fl,void 0),r=a((()=>[t,{[`${t}-disabled`]:e.disabled,[`${t}-active`]:e.active}]));return{prefixCls:t,cls:r,liRef:n,handleClick:t=>{e.disabled||(l("click",t),null==u||u.onOptionClick(i.value,t))}}}});var Jl=e("d",d(Yl,[["render",function(e,l,t,o,a,n){return f(),m("li",{ref:"liRef",class:b([e.cls,{[`${e.prefixCls}-has-suffix`]:Boolean(e.$slots.suffix)}]),onClick:l[0]||(l[0]=(...l)=>e.handleClick&&e.handleClick(...l))},[e.$slots.icon?(f(),m("span",{key:0,class:b(`${e.prefixCls}-icon`)},[E(e.$slots,"icon")],2)):M("v-if",!0),g("span",{class:b(`${e.prefixCls}-content`)},[E(e.$slots,"default")],2),e.$slots.suffix?(f(),m("span",{key:1,class:b(`${e.prefixCls}-suffix`)},[E(e.$slots,"suffix")],2)):M("v-if",!0)],2)}]]));const Xl=t({name:"Dgroup",props:{title:String},setup:()=>({prefixCls:c("dropdown-group")})});var Ql=d(Xl,[["render",function(e,l,t,o,a,n){return f(),m(w,null,[g("li",{class:b(`${e.prefixCls}-title`)},[E(e.$slots,"title",{},(()=>[Z(U(e.title),1)]))],2),E(e.$slots,"default")],64)}]]);const et=t({name:"Dsubmenu",components:{Trigger:me,DropdownPanel:ql,DropdownOption:Jl,IconRight:be},props:{value:{type:[String,Number]},disabled:{type:Boolean,default:!1},trigger:{type:[String,Array],default:"click"},position:{type:String,default:"rt"},popupVisible:{type:Boolean,default:void 0},defaultPopupVisible:{type:Boolean,default:!1},optionProps:{type:Object}},emits:{"update:popupVisible":e=>!0,popupVisibleChange:e=>!0},setup(e,{emit:l}){const{defaultPopupVisible:t,popupVisible:o}=N(e),a=c("dropdown"),{computedPopupVisible:n,handlePopupVisibleChange:i}=Gl({defaultPopupVisible:t,popupVisible:o,emit:l});return{prefixCls:a,computedPopupVisible:n,handlePopupVisibleChange:i}}});var lt=d(et,[["render",function(e,l,t,o,a,n){const i=R("IconRight"),u=R("dropdown-option"),r=R("dropdown-panel"),s=R("Trigger");return f(),V(s,{"popup-visible":e.computedPopupVisible,trigger:e.trigger,position:e.position,disabled:e.disabled,"popup-offset":4,onPopupVisibleChange:e.handlePopupVisibleChange},{content:k((()=>[C(r,{class:b(`${e.prefixCls}-submenu`)},ee({default:k((()=>[E(e.$slots,"content")])),_:2},[e.$slots.footer?{name:"footer",fn:k((()=>[E(e.$slots,"footer")]))}:void 0]),1032,["class"])])),default:k((()=>[C(u,T(e.optionProps,{active:e.computedPopupVisible,"uninject-context":""}),ee({suffix:k((()=>[E(e.$slots,"suffix",{},(()=>[C(i)]))])),default:k((()=>[E(e.$slots,"default")])),_:2},[e.$slots.icon?{name:"icon",fn:k((()=>[E(e.$slots,"icon")]))}:void 0]),1040,["active"])])),_:3},8,["popup-visible","trigger","position","disabled","onPopupVisibleChange"])}]]);const tt=t({name:"DropdownButton",components:{IconMore:Ll,Button:we,ButtonGroup:$e,Dropdown:Ul},props:{popupVisible:{type:Boolean,default:void 0},defaultPopupVisible:{type:Boolean,default:!1},trigger:{type:[String,Array],default:"click"},position:{type:String,default:"br"},popupContainer:{type:[String,Object]},disabled:{type:Boolean,default:!1},type:{type:String},size:{type:String},buttonProps:{type:Object},hideOnSelect:{type:Boolean,default:!0}},emits:{"update:popupVisible":e=>!0,popupVisibleChange:e=>!0,click:e=>!0,select:(e,l)=>!0},setup(e,{emit:l}){const{defaultPopupVisible:t,popupVisible:o}=N(e),a=c("dropdown"),{computedPopupVisible:n,handlePopupVisibleChange:i}=Gl({defaultPopupVisible:t,popupVisible:o,emit:l});return{prefixCls:a,computedPopupVisible:n,handleClick:e=>{l("click",e)},handleSelect:(e,t)=>{l("select",e,t)},handlePopupVisibleChange:i}}});var ot=d(tt,[["render",function(e,l,t,o,a,n){const i=R("Button"),u=R("IconMore"),r=R("Dropdown"),s=R("ButtonGroup");return f(),V(s,null,{default:k((()=>[C(i,T({size:e.size,type:e.type,disabled:e.disabled},e.buttonProps,{onClick:e.handleClick}),{default:k((()=>[E(e.$slots,"default")])),_:3},16,["size","type","disabled","onClick"]),C(r,{"popup-visible":e.computedPopupVisible,trigger:e.trigger,position:e.position,"popup-container":e.popupContainer,"hide-on-select":e.hideOnSelect,onSelect:e.handleSelect,onPopupVisibleChange:e.handlePopupVisibleChange},{content:k((()=>[E(e.$slots,"content")])),default:k((()=>[C(i,{size:e.size,type:e.type,disabled:e.disabled},{icon:k((()=>[E(e.$slots,"icon",{popupVisible:e.computedPopupVisible},(()=>[C(u)]))])),_:3},8,["size","type","disabled"])])),_:3},8,["popup-visible","trigger","position","popup-container","hide-on-select","onSelect","onPopupVisibleChange"])])),_:3})}]]);e("D",Object.assign(Ul,{Option:Jl,Group:Ql,Submenu:lt,Button:ot,install:(e,l)=>{O(e,l);const t=x(l);e.component(t+Ul.name,Ul),e.component(t+Jl.name,Jl),e.component(t+Ql.name,Ql),e.component(t+lt.name,lt),e.component(t+ot.name,ot)}}));var at=t({name:"InputLabel",inheritAttrs:!1,props:{modelValue:Object,inputValue:{type:String,default:""},enabledInput:Boolean,formatLabel:Function,placeholder:String,retainInputValue:Boolean,disabled:Boolean,baseCls:String,size:String,error:Boolean,focused:Boolean,uninjectFormItemContext:Boolean},emits:["update:inputValue","inputValueChange","focus","blur"],setup(e,{attrs:l,emit:t,slots:n}){var u;const{size:r,disabled:s,error:p,inputValue:d,uninjectFormItemContext:v}=N(e),f=null!=(u=e.baseCls)?u:c("input-label"),{mergedSize:m,mergedDisabled:b,mergedError:y,eventHandlers:g}=Ve({size:r,disabled:s,error:p,uninject:null==v?void 0:v.value}),{mergedSize:h}=ke(m),{inputRef:S,_focused:O,computedValue:x,handleInput:w,handleComposition:$,handleFocus:V,handleBlur:k,handleMousedown:B}=(({defaultValue:e,modelValue:l,emit:t,eventName:n="input",updateEventName:u="update:modelValue",eventHandlers:r})=>{var s;const p=o(),d=o(null!=(s=null==e?void 0:e.value)?s:""),c=o(!1),v=o(!1),f=o("");let m;const b=a((()=>{var e;return null!=(e=null==l?void 0:l.value)?e:d.value})),y=(e,l)=>{d.value=e,t(u,e),t(n,e,l)},g=e=>{"input"===n&&b.value!==m&&(m=b.value,t("change",b.value,e))};return i(b,(e=>{p.value&&e!==p.value.value&&(p.value.value=e)})),{inputRef:p,_value:d,_focused:c,isComposition:v,compositionValue:f,computedValue:b,handleInput:e=>{const{value:l}=e.target;v.value||(y(l,e),Y((()=>{p.value&&b.value!==p.value.value&&(p.value.value=b.value)})))},handleComposition:e=>{var l;const{value:t}=e.target;"compositionend"===e.type?(v.value=!1,f.value="",y(t,e),Y((()=>{p.value&&b.value!==p.value.value&&(p.value.value=b.value)}))):(v.value=!0,f.value=b.value+(null!=(l=e.data)?l:""))},handleFocus:e=>{var l,o;c.value=!0,m=b.value,t("focus",e),null==(o=null==(l=null==r?void 0:r.value)?void 0:l.onFocus)||o.call(l,e)},handleBlur:e=>{var l,o;c.value=!1,t("blur",e),null==(o=null==(l=null==r?void 0:r.value)?void 0:l.onBlur)||o.call(l,e),g(e)},handleKeyDown:e=>{const l=e.key||e.code;v.value||l!==ye.key||(t("pressEnter",e),g(e))},handleMousedown:e=>{p.value&&e.target!==p.value&&(e.preventDefault(),p.value.focus())}}})({modelValue:d,emit:t,eventName:"inputValueChange",updateEventName:"update:inputValue",eventHandlers:g}),P=a((()=>{var l;return null!=(l=e.focused)?l:O.value})),z=a((()=>e.enabledInput&&O.value||!e.modelValue)),j=()=>{var l,t;return e.modelValue?null!=(t=null==(l=e.formatLabel)?void 0:l.call(e,e.modelValue))?t:e.modelValue.label:""},I=a((()=>e.enabledInput&&e.modelValue?j():e.placeholder)),R=a((()=>[f,`${f}-size-${h.value}`,{[`${f}-search`]:e.enabledInput,[`${f}-focus`]:P.value,[`${f}-disabled`]:b.value,[`${f}-error`]:y.value}])),E=a((()=>ge(l,le))),M=a((()=>he(l,le)));return{inputRef:S,render:()=>{return C("span",T(E.value,{class:R.value,title:j(),onMousedown:B}),[n.prefix&&C("span",{class:`${f}-prefix`},[n.prefix()]),C("input",T(M.value,{ref:S,class:[`${f}-input`,{[`${f}-input-hidden`]:!z.value}],value:x.value,readonly:!e.enabledInput,placeholder:I.value,disabled:b.value,onInput:w,onFocus:V,onBlur:k,onCompositionstart:$,onCompositionupdate:$,onCompositionend:$}),null),C("span",{class:[`${f}-value`,{[`${f}-value-hidden`]:z.value}]},[e.modelValue?null!=(t=null==(l=n.default)?void 0:l.call(n,{data:e.modelValue}))?t:j():null]),n.suffix&&C("span",{class:`${f}-suffix`},[n.suffix()])]);var l,t}}},methods:{focus(){var e;null==(e=this.inputRef)||e.focus()},blur(){var e;null==(e=this.inputRef)||e.blur()}},render(){return this.render()}}),nt=Object.defineProperty,it=Object.getOwnPropertySymbols,ut=Object.prototype.hasOwnProperty,rt=Object.prototype.propertyIsEnumerable,st=(e,l,t)=>l in e?nt(e,l,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[l]=t,pt=(e,l)=>{for(var t in l||(l={}))ut.call(l,t)&&st(e,t,l[t]);if(it)for(var t of it(l))rt.call(l,t)&&st(e,t,l[t]);return e};const dt=["red","orangered","orange","gold","lime","green","cyan","blue","arcoblue","purple","pinkpurple","magenta","gray"],ct=t({name:"Tag",components:{IconHover:te,IconClose:oe,IconLoading:$},props:{color:{type:String},size:{type:String},bordered:{type:Boolean,default:!1},visible:{type:Boolean,default:void 0},defaultVisible:{type:Boolean,default:!0},loading:{type:Boolean,default:!1},closable:{type:Boolean,default:!1},checkable:{type:Boolean,default:!1},checked:{type:Boolean,default:void 0},defaultChecked:{type:Boolean,default:!0}},emits:{"update:visible":e=>!0,"update:checked":e=>!0,close:e=>!0,check:(e,l)=>!0},setup(e,{emit:l}){const{size:t}=N(e),n=c("tag"),i=a((()=>e.color&&dt.includes(e.color))),u=a((()=>e.color&&!dt.includes(e.color))),r=o(e.defaultVisible),s=o(e.defaultChecked),p=a((()=>{var l;return null!=(l=e.visible)?l:r.value})),d=a((()=>{var l;return!e.checkable||(null!=(l=e.checked)?l:s.value)})),{mergedSize:v}=ke(t),f=a((()=>"mini"===v.value?"small":v.value)),m=a((()=>[n,`${n}-size-${f.value}`,{[`${n}-loading`]:e.loading,[`${n}-hide`]:!p.value,[`${n}-${e.color}`]:i.value,[`${n}-bordered`]:e.bordered,[`${n}-checkable`]:e.checkable,[`${n}-checked`]:d.value,[`${n}-custom-color`]:u.value}])),b=a((()=>{if(u.value)return{backgroundColor:e.color}}));return{prefixCls:n,cls:m,style:b,computedVisible:p,computedChecked:d,handleClick:t=>{if(e.checkable){const e=!d.value;s.value=e,l("update:checked",e),l("check",e,t)}},handleClose:e=>{r.value=!1,l("update:visible",!1),l("close",e)}}}});var vt=d(ct,[["render",function(e,l,t,o,a,n){const i=R("icon-close"),u=R("icon-hover"),r=R("icon-loading");return e.computedVisible?(f(),m("span",{key:0,class:b(e.cls),style:y(e.style),onClick:l[0]||(l[0]=(...l)=>e.handleClick&&e.handleClick(...l))},[e.$slots.icon?(f(),m("span",{key:0,class:b(`${e.prefixCls}-icon`)},[E(e.$slots,"icon")],2)):M("v-if",!0),E(e.$slots,"default"),e.closable?(f(),V(u,{key:1,role:"button","aria-label":"Close",prefix:e.prefixCls,class:b(`${e.prefixCls}-close-btn`),onClick:B(e.handleClose,["stop"])},{default:k((()=>[E(e.$slots,"close-icon",{},(()=>[C(i)]))])),_:3},8,["prefix","class","onClick"])):M("v-if",!0),e.loading?(f(),m("span",{key:2,class:b(`${e.prefixCls}-loading-icon`)},[C(r)],2)):M("v-if",!0)],6)):M("v-if",!0)}]]);const ft=e("T",Object.assign(vt,{install:(e,l)=>{O(e,l);const t=x(l);e.component(t+vt.name,vt)}}));var mt=Object.defineProperty,bt=Object.getOwnPropertySymbols,yt=Object.prototype.hasOwnProperty,gt=Object.prototype.propertyIsEnumerable,ht=(e,l,t)=>l in e?mt(e,l,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[l]=t,St=(e,l)=>{for(var t in l||(l={}))yt.call(l,t)&&ht(e,t,l[t]);if(bt)for(var t of bt(l))gt.call(l,t)&&ht(e,t,l[t]);return e};const Ct={value:"value",label:"label",closable:"closable",tagProps:"tagProps"};var Ot=t({name:"InputTag",inheritAttrs:!1,props:{modelValue:{type:Array},defaultValue:{type:Array,default:()=>[]},inputValue:String,defaultInputValue:{type:String,default:""},placeholder:String,disabled:{type:Boolean,default:!1},error:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},allowClear:{type:Boolean,default:!1},size:{type:String},maxTagCount:{type:Number,default:0},retainInputValue:{type:[Boolean,Object],default:!1},formatTag:{type:Function},uniqueValue:{type:Boolean,default:!1},fieldNames:{type:Object},baseCls:String,focused:Boolean,disabledInput:Boolean,uninjectFormItemContext:Boolean},emits:{"update:modelValue":e=>!0,"update:inputValue":e=>!0,change:(e,l)=>!0,inputValueChange:(e,l)=>!0,pressEnter:(e,l)=>!0,remove:(e,l)=>!0,clear:e=>!0,focus:e=>!0,blur:e=>!0},setup(e,{emit:t,slots:n,attrs:r}){const{size:s,disabled:p,error:d,uninjectFormItemContext:f,modelValue:m}=N(e),b=e.baseCls||c("input-tag"),y=o(),g=o(),{mergedSize:h,mergedDisabled:S,mergedError:O,feedback:x,eventHandlers:w}=Ve({size:s,disabled:p,error:d,uninject:null==f?void 0:f.value}),{mergedSize:$}=ke(h),V=a((()=>St(St({},Ct),e.fieldNames))),k=o(!1),B=o(e.defaultValue),P=o(e.defaultInputValue),z=o(!1),j=o(""),R=a((()=>I(e.retainInputValue)?St({create:!1,blur:!1},e.retainInputValue):{create:e.retainInputValue,blur:e.retainInputValue})),E=q({width:"12px"}),M=a((()=>e.focused||k.value)),_=(e,l)=>{P.value=e,t("update:inputValue",e),t("inputValueChange",e,l)},A=e=>{var l;const{value:t}=e.target;"compositionend"===e.type?(z.value=!1,j.value="",_(t,e),Y((()=>{y.value&&K.value!==y.value.value&&(y.value.value=K.value)}))):(z.value=!0,j.value=K.value+(null!=(l=e.data)?l:""))},D=a((()=>{var l;return null!=(l=e.modelValue)?l:B.value})),K=a((()=>{var l;return null!=(l=e.inputValue)?l:P.value}));i(m,(e=>{(ae(e)||ne(e))&&(B.value=[])}));const H=e=>{y.value&&e.target!==y.value&&(e.preventDefault(),y.value.focus())},L=e=>{const{value:l}=e.target;z.value||(_(l,e),Y((()=>{y.value&&K.value!==y.value.value&&(y.value.value=K.value)})))},F=a((()=>((e,l)=>{const t=[];for(const o of e)if(I(o))t.push({raw:o,value:o[l.value],label:o[l.label],closable:o[l.closable],tagProps:o[l.tagProps]});else if(e||v(e)){const e={value:o,label:String(o),closable:!0};t.push(pt({raw:e},e))}return t})(D.value,V.value))),W=a((()=>{if(e.maxTagCount>0){const l=F.value.length-e.maxTagCount;if(l>0){const t=F.value.slice(0,e.maxTagCount),o={value:"__arco__more",label:`+${l}...`,closable:!1};return t.push(St({raw:o},o)),t}}return F.value})),G=(e,l)=>{var o,a;B.value=e,t("update:modelValue",e),t("change",e,l),null==(a=null==(o=w.value)?void 0:o.onChange)||a.call(o,l)},Z=(e,l,o)=>{var a;const n=null==(a=D.value)?void 0:a.filter(((e,t)=>t!==l));G(n,o),t("remove",e,o)},U=e=>{G([],e),t("clear",e)},J=a((()=>!S.value&&!e.readonly&&e.allowClear&&Boolean(D.value.length))),X=e=>{var l,o;k.value=!0,t("focus",e),null==(o=null==(l=w.value)?void 0:l.onFocus)||o.call(l,e)},Q=e=>{var l,o;k.value=!1,!R.value.blur&&K.value&&_("",e),t("blur",e),null==(o=null==(l=w.value)?void 0:l.onBlur)||o.call(l,e)},ee=l=>{const o=l.key||l.code;if(!z.value&&K.value&&o===ye.key&&(l=>{var o;if(K.value){if(l.preventDefault(),e.uniqueValue&&(null==(o=D.value)?void 0:o.includes(K.value)))return void t("pressEnter",K.value,l);const a=D.value.concat(K.value);G(a,l),t("pressEnter",K.value,l),R.value.create||_("",l)}})(l),!z.value&&W.value.length>0&&!K.value&&o===Ce.key){const e=(()=>{for(let e=F.value.length-1;e>=0;e--)if(F.value[e].closable)return e;return-1})();e>=0&&Z(F.value[e].value,e,l)}},ue=e=>{E.width=e>12?`${e}px`:"12px"};u((()=>{g.value&&ue(g.value.offsetWidth)}));const re=()=>{g.value&&ue(g.value.offsetWidth)};i(K,(e=>{y.value&&!z.value&&e!==y.value.value&&(y.value.value=e)}));const se=a((()=>[b,`${b}-size-${$.value}`,{[`${b}-disabled`]:S.value,[`${b}-disabled-input`]:e.disabledInput,[`${b}-error`]:O.value,[`${b}-focus`]:M.value,[`${b}-readonly`]:e.readonly,[`${b}-has-tag`]:W.value.length>0,[`${b}-has-prefix`]:Boolean(n.prefix),[`${b}-has-suffix`]:Boolean(n.suffix)||J.value||x.value,[`${b}-has-placeholder`]:!D.value.length}])),pe=a((()=>ge(r,le))),de=a((()=>he(r,le)));return{inputRef:y,render:()=>{var t;return C("span",T({class:se.value,onMousedown:H},pe.value),[C(l,{onResize:re},{default:()=>[C("span",{ref:g,class:`${b}-mirror`},[W.value.length>0?j.value||K.value:j.value||K.value||e.placeholder])]}),n.prefix&&C("span",{class:`${b}-prefix`},[n.prefix()]),C(ie,{tag:"span",name:"input-tag-zoom",class:`${b}-inner`},{default:()=>[W.value.map(((l,t)=>C(ft,T({key:`tag-${l.value}`,class:`${b}-tag`,closable:!S.value&&!e.readonly&&l.closable,visible:!0},l.tagProps,{onClose:e=>Z(l.value,t,e)}),{default:()=>{var t,o,a,i;return[null!=(i=null!=(a=null==(t=n.tag)?void 0:t.call(n,{data:l.raw}))?a:null==(o=e.formatTag)?void 0:o.call(e,l.raw))?i:l.label]}}))),C("input",T(de.value,{ref:y,key:"input-tag-input",class:`${b}-input`,style:E,placeholder:0===W.value.length?e.placeholder:void 0,disabled:S.value,readonly:e.readonly||e.disabledInput,onInput:L,onKeydown:ee,onFocus:X,onBlur:Q,onCompositionstart:A,onCompositionupdate:A,onCompositionend:A}),null)]}),J.value&&C(te,{class:`${b}-clear-btn`,onClick:U,onMousedown:e=>e.stopPropagation()},{default:()=>[C(oe,null,null)]}),(n.suffix||Boolean(x.value))&&C("span",{class:`${b}-suffix`},[null==(t=n.suffix)?void 0:t.call(n),Boolean(x.value)&&C(Se,{type:x.value},null)])])}}},methods:{focus(){var e;null==(e=this.inputRef)||e.focus()},blur(){var e;null==(e=this.inputRef)||e.blur()}},render(){return this.render()}});const xt=Object.assign(Ot,{install:(e,l)=>{O(e,l);const t=x(l);e.component(t+Ot.name,Ot)}});var wt=t({name:"SelectView",props:{modelValue:{type:Array,required:!0},inputValue:String,placeholder:String,disabled:{type:Boolean,default:!1},error:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},opened:{type:Boolean,default:!1},size:{type:String},bordered:{type:Boolean,default:!0},multiple:{type:Boolean,default:!1},allowClear:{type:Boolean,default:!1},allowCreate:{type:Boolean,default:!1},allowSearch:{type:Boolean,default:e=>ue(e.modelValue)},maxTagCount:{type:Number,default:0},retainInputValue:{type:Boolean,default:!1}},emits:["remove","clear","focus","blur"],setup(e,{emit:l,slots:t}){const{size:n,disabled:u,error:r}=N(e),s=c("select-view"),{feedback:p,eventHandlers:d,mergedDisabled:v,mergedSize:f,mergedError:m}=Ve({size:n,disabled:u,error:r}),{mergedSize:b}=ke(f),{opened:y}=N(e),g=o(),h=a((()=>{var e;return null==(e=g.value)?void 0:e.inputRef})),S=a((()=>0===e.modelValue.length)),O=a((()=>e.allowSearch||e.allowCreate)),x=a((()=>e.allowClear&&!e.disabled&&!S.value)),V=e=>{var t,o;l("focus",e),null==(o=null==(t=d.value)?void 0:t.onFocus)||o.call(t,e)},k=e=>{var t,o;l("blur",e),null==(o=null==(t=d.value)?void 0:t.onBlur)||o.call(t,e)},B=e=>{l("remove",e)},P=e=>{l("clear",e)},z=()=>{return C(w,null,[x.value&&C(te,{class:`${s}-clear-btn`,onClick:P,onMousedown:e=>e.stopPropagation()},{default:()=>[C(oe,null,null)]}),C("span",{class:`${s}-icon`},[e.loading?null!=(o=null==(l=t["loading-icon"])?void 0:l.call(t))?o:C($,null,null):e.allowSearch&&e.opened?null!=(n=null==(a=t["search-icon"])?void 0:a.call(t))?n:C(Oe,null,null):t["arrow-icon"]?t["arrow-icon"]():C(xe,{class:`${s}-arrow-icon`},null)]),Boolean(p.value)&&C(Se,{type:p.value},null)]);var l,o,a,n};i(y,(e=>{!e&&h.value&&h.value.isSameNode(document.activeElement)&&h.value.blur()}));const j=a((()=>[`${s}-${e.multiple?"multiple":"single"}`,{[`${s}-opened`]:e.opened,[`${s}-borderless`]:!e.bordered}]));return{inputRef:h,handleFocus:V,handleBlur:k,render:()=>e.multiple?C(xt,{ref:g,baseCls:s,class:j.value,modelValue:e.modelValue,inputValue:e.inputValue,focused:e.opened,placeholder:e.placeholder,disabled:v.value,size:b.value,error:m.value,maxTagCount:e.maxTagCount,disabledInput:!e.allowSearch&&!e.allowCreate,retainInputValue:!0,uninjectFormItemContext:!0,onRemove:B,onFocus:V,onBlur:k},{prefix:t.prefix,suffix:z,tag:t.label}):C(at,{ref:g,baseCls:s,class:j.value,modelValue:e.modelValue[0],inputValue:e.inputValue,focused:e.opened,placeholder:e.placeholder,disabled:v.value,size:b.value,error:m.value,enabledInput:O.value,uninjectFormItemContext:!0,onFocus:V,onBlur:k},{default:t.label,prefix:t.prefix,suffix:z})}},methods:{focus(){this.inputRef&&this.inputRef.focus()},blur(){this.inputRef&&this.inputRef.blur()}},render(){return this.render()}});const $t=t({name:"Optgroup",props:{label:{type:String}},setup:()=>({prefixCls:c("select-group")})});var Vt=d($t,[["render",function(e,l,t,o,a,n){return f(),m(w,null,[g("li",{class:b(`${e.prefixCls}-title`)},[E(e.$slots,"label",{},(()=>[Z(U(e.label),1)]))],2),E(e.$slots,"default")],64)}]]);const kt="undefined"==typeof window?global:window;var Bt=Object.defineProperty,Pt=Object.defineProperties,zt=Object.getOwnPropertyDescriptors,jt=Object.getOwnPropertySymbols,It=Object.prototype.hasOwnProperty,Rt=Object.prototype.propertyIsEnumerable,Tt=(e,l,t)=>l in e?Bt(e,l,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[l]=t,Et=(e,l)=>{for(var t in l||(l={}))It.call(l,t)&&Tt(e,t,l[t]);if(jt)for(var t of jt(l))Rt.call(l,t)&&Tt(e,t,l[t]);return e};const Mt={value:"value",label:"label",disabled:"disabled",tagProps:"tagProps",render:"render"};var _t=t({name:"Select",components:{Trigger:me,SelectView:wt},inheritAttrs:!1,props:{multiple:{type:Boolean,default:!1},modelValue:{type:[String,Number,Object,Array]},defaultValue:{type:[String,Number,Object,Array],default:e=>ae(e.multiple)?"":[]},inputValue:{type:String},defaultInputValue:{type:String,default:""},size:{type:String},placeholder:String,loading:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},error:{type:Boolean,default:!1},allowClear:{type:Boolean,default:!1},allowSearch:{type:[Boolean,Object],default:e=>Boolean(e.multiple)},allowCreate:{type:Boolean,default:!1},maxTagCount:{type:Number,default:0},popupContainer:{type:[String,Object]},bordered:{type:Boolean,default:!0},defaultActiveFirstOption:{type:Boolean,default:!0},popupVisible:{type:Boolean,default:void 0},defaultPopupVisible:{type:Boolean,default:!1},unmountOnClose:{type:Boolean,default:!1},filterOption:{type:[Boolean,Function],default:!0},options:{type:Array,default:()=>[]},virtualListProps:{type:Object},triggerProps:{type:Object},formatLabel:{type:Function},fallbackOption:{type:[Boolean,Function],default:!0},showExtraOptions:{type:Boolean,default:!0},valueKey:{type:String,default:"value"},searchDelay:{type:Number,default:500},limit:{type:Number,default:0},fieldNames:{type:Object},scrollbar:{type:[Boolean,Object],default:!0},showHeaderOnEmpty:{type:Boolean,default:!1},showFooterOnEmpty:{type:Boolean,default:!1}},emits:{"update:modelValue":e=>!0,"update:inputValue":e=>!0,"update:popupVisible":e=>!0,change:e=>!0,inputValueChange:e=>!0,popupVisibleChange:e=>!0,clear:e=>!0,remove:e=>!0,search:e=>!0,dropdownScroll:e=>!0,dropdownReachBottom:e=>!0,exceedLimit:(e,l)=>!0},setup(e,{slots:l,emit:t,attrs:n}){const{size:u,disabled:r,error:s,options:p,filterOption:d,valueKey:f,multiple:m,popupVisible:b,showExtraOptions:y,modelValue:g,fieldNames:h,loading:S,defaultActiveFirstOption:O}=N(e),x=c("select"),{mergedSize:w,mergedDisabled:$,mergedError:V,eventHandlers:k}=Ve({size:u,disabled:r,error:s}),B=a((()=>e.virtualListProps?"div":"li")),P=a((()=>I(e.allowSearch)&&Boolean(e.allowSearch.retainInputValue)));a((()=>{if(L(e.formatLabel))return l=>{const t=be.get(l.value);return e.formatLabel(t)}}));const z=o(),j=o({}),R=o(),{computedPopupVisible:E,handlePopupVisibleChange:M}=Gl({popupVisible:b,emit:t}),_=o(e.defaultValue),A=a((()=>{var l;const t=null!=(l=e.modelValue)?l:_.value;return(ue(t)?t:t||v(t)||H(t)?[t]:[]).map((l=>({value:l,key:sl(l,e.valueKey)})))}));i(g,(e=>{(ae(e)||ne(e))&&(_.value=m.value?[]:e)}));const D=a((()=>A.value.map((e=>e.key)))),K=a((()=>Et(Et({},Mt),null==h?void 0:h.value))),F=o(),W=e=>{F.value=(e=>{const l={};return e.forEach((e=>{l[e]=be.get(e)})),l})(e)},G=o([]),Z=a((()=>G.value.map((l=>{var t;let o=(a=l.value,L(e.fallbackOption)?e.fallbackOption(a):{[K.value.value]:a,[K.value.label]:String(I(a)?a[null==f?void 0:f.value]:a)});var a;const n=null==(t=F.value)?void 0:t[l.key];return ae(n)||se(n)||(o=Et(Et({},o),n)),o}))));Y((()=>{re((()=>{var l;const t=(()=>{const l=[],t=[];if(e.allowCreate||e.fallbackOption)for(const e of A.value)if(!t.includes(e.key)&&""!==e.value){const o=be.get(e.key);o&&"extraOptions"!==o.origin||(l.push(e),t.push(e.key))}if(e.allowCreate&&Q.value){const e=sl(Q.value);if(!t.includes(e)){const t=be.get(e);t&&"extraOptions"!==t.origin||l.push({value:Q.value,key:e})}}return l})();if(t.length!==G.value.length)G.value=t;else if(t.length>0)for(let e=0;e<t.length;e++)if(t[e].key!==(null==(l=G.value[e])?void 0:l.key)){G.value=t;break}}))}));const U=o(""),Q=a((()=>{var l;return null!=(l=e.inputValue)?l:U.value}));i(E,(e=>{e||P.value||!Q.value||le("")}));const ee=l=>{var o,a;const n=(l=>{var t,o;return e.multiple?l.map((e=>{var l,t;return null!=(t=null==(l=be.get(e))?void 0:l.value)?t:""})):null!=(o=null==(t=be.get(l[0]))?void 0:t.value)?o:(e=>e.has("__arco__option__string-"))(be)?void 0:""})(l);_.value=n,t("update:modelValue",n),t("change",n),null==(a=null==(o=k.value)?void 0:o.onChange)||a.call(o),W(l)},le=e=>{U.value=e,t("update:inputValue",e),t("inputValueChange",e)},te=function(e,l){let t=0;return(...o)=>{t&&kt.clearTimeout(t),t=kt.setTimeout((()=>{t=0,e(...o)}),l)}}((e=>{t("search",e)}),e.searchDelay),oe=l=>{l!==Q.value&&(E.value||M(!0),le(l),e.allowSearch&&te(l))},ie=e=>{const l=be.get(e),o=D.value.filter((l=>l!==e));ee(o),t("remove",null==l?void 0:l.value)},de=e=>{null==e||e.stopPropagation();const l=D.value.filter((e=>{var l;return null==(l=be.get(e))?void 0:l.disabled}));ee(l),le(""),t("clear",e)},ce=e=>{t("dropdownScroll",e)},ve=e=>{t("dropdownReachBottom",e)},{validOptions:fe,optionInfoMap:be,validOptionInfos:ye,enabledOptionKeys:ge,handleKeyDown:he}=(({multiple:e,options:l,extraOptions:t,inputValue:a,filterOption:n,showExtraOptions:u,component:r,valueKey:s,fieldNames:p,loading:d,popupVisible:c,valueKeys:v,dropdownRef:f,optionRefs:m,virtualListRef:b,onSelect:y,onPopupVisibleChange:g,enterToOpen:h=!0,defaultActiveFirstOption:S})=>{const{validOptions:C,optionInfoMap:O,validOptionInfos:x,enabledOptionKeys:w,getNextSlotOptionIndex:$,addSlotOptionInfo:V,removeSlotOptionInfo:k}=Vl({options:l,extraOptions:t,inputValue:a,filterOption:n,showExtraOptions:u,valueKey:s,fieldNames:p}),B=o();i(w,(e=>{B.value&&e.includes(B.value)||(B.value=e[0])}));const P=e=>{B.value=e},z=e=>{const l=w.value.length;if(0===l)return;if(!B.value)return"down"===e?w.value[0]:w.value[l-1];const t=(l+w.value.indexOf(B.value)+("up"===e?-1:1))%l;return w.value[t]},j=e=>{var l,t;(null==b?void 0:b.value)&&b.value.scrollTo({key:e});const o=O.get(e),a=null==(l=null==f?void 0:f.value)?void 0:l.wrapperRef,n=null!=(t=null==m?void 0:m.value[e])?t:null==o?void 0:o.ref;if(!a||!n)return;if(a.scrollHeight===a.offsetHeight)return;const i=X(n,a),u=a.scrollTop;i.top<0?a.scrollTo(0,u+i.top):i.bottom<0&&a.scrollTo(0,u-i.bottom)};i(c,(e=>{var l;if(e){const e=v.value[v.value.length-1];let t=null==(l=null==S?void 0:S.value)||l?w.value[0]:void 0;w.value.includes(e)&&(t=e),t!==B.value&&(B.value=t),Y((()=>{B.value&&j(B.value)}))}}));const I=Pl(new Map([[kl.ENTER,e=>{(null==d?void 0:d.value)||e.isComposing||(c.value?B.value&&(y(B.value,e),e.preventDefault()):h&&(g(!0),e.preventDefault()))}],[kl.ESC,e=>{c.value&&(g(!1),e.preventDefault())}],[kl.ARROW_DOWN,e=>{if(c.value){const l=z("down");l&&(B.value=l,j(l)),e.preventDefault()}}],[kl.ARROW_UP,e=>{if(c.value){const l=z("up");l&&(B.value=l,j(l)),e.preventDefault()}}]]));return J(Je,q({multiple:e,valueKey:s,inputValue:a,filterOption:n,component:r,valueKeys:v,activeKey:B,setActiveKey:P,onSelect:y,getNextSlotOptionIndex:$,addSlotOptionInfo:V,removeSlotOptionInfo:k})),{validOptions:C,optionInfoMap:O,validOptionInfos:x,enabledOptionKeys:w,activeKey:B,setActiveKey:P,addSlotOptionInfo:V,removeSlotOptionInfo:k,getNextActiveKey:z,scrollIntoView:j,handleKeyDown:I}})({multiple:m,options:p,extraOptions:Z,inputValue:Q,filterOption:d,showExtraOptions:y,component:B,valueKey:f,fieldNames:h,loading:S,popupVisible:E,valueKeys:D,dropdownRef:z,optionRefs:j,virtualListRef:R,defaultActiveFirstOption:O,onSelect:(l,o)=>{if(e.multiple){if(D.value.includes(l)){const e=D.value.filter((e=>e!==l));ee(e)}else if(ge.value.includes(l))if(e.limit>0&&D.value.length>=e.limit){const e=be.get(l);t("exceedLimit",null==e?void 0:e.value,o)}else{const e=D.value.concat(l);ee(e)}P.value||le("")}else{if(l!==D.value[0]&&ee([l]),P.value){const e=be.get(l);e&&le(e.label)}M(!1)}},onPopupVisibleChange:M}),Se=a((()=>{var e;const l=[];for(const a of A.value){const n=be.get(a.key);n&&l.push((t=Et({},n),o={value:a.key,label:null!=(e=null==n?void 0:n.label)?e:String(I(a.value)?a.value[null==f?void 0:f.value]:a.value),closable:!(null==n?void 0:n.disabled),tagProps:null==n?void 0:n.tagProps},Pt(t,zt(o))))}var t,o;return l})),Ce=e=>{if(L(l.option)){const t=l.option;return()=>t({data:e.raw})}return L(e.render)?e.render:()=>e.label},Oe=e=>{if(ul(e)){let t;return C(Vt,{key:e.key,label:e.label},"function"==typeof(l=t=e.options.map((e=>Oe(e))))||"[object Object]"===Object.prototype.toString.call(l)&&!pe(l)?t:{default:()=>[t]})}var l;return vl(e,{inputValue:Q.value,filterOption:null==d?void 0:d.value})?C(bl,{ref:l=>{(null==l?void 0:l.$el)&&(j.value[e.key]=l.$el)},key:e.key,value:e.value,label:e.label,disabled:e.disabled,internal:!0},{default:Ce(e)}):null},xe=()=>C(Ye,{ref:z,loading:e.loading,empty:0===ye.value.length,virtualList:Boolean(e.virtualListProps),scrollbar:e.scrollbar,showHeaderOnEmpty:e.showHeaderOnEmpty,showFooterOnEmpty:e.showFooterOnEmpty,onScroll:ce,onReachBottom:ve},{default:()=>{var e,t;return[...null!=(t=null==(e=l.default)?void 0:e.call(l))?t:[],...fe.value.map(Oe)]},"virtual-list":()=>C(Nl,T(e.virtualListProps,{ref:R,data:fe.value}),{item:({item:e})=>Oe(e)}),empty:l.empty,header:l.header,footer:l.footer}),we=({data:t})=>{var o,a,n,i;if((l.label||L(e.formatLabel))&&t){const i=be.get(t.value);if(null==i?void 0:i.raw)return null!=(n=null==(o=l.label)?void 0:o.call(l,{data:i.raw}))?n:null==(a=e.formatLabel)?void 0:a.call(e,i.raw)}return null!=(i=null==t?void 0:t.label)?i:""};return()=>C(me,T({trigger:"click",position:"bl",popupOffset:4,animationName:"slide-dynamic-origin",hideEmpty:!0,preventFocus:!0,autoFitPopupWidth:!0,autoFitTransformOrigin:!0,disabled:$.value,popupVisible:E.value,unmountOnClose:e.unmountOnClose,clickToClose:!(e.allowSearch||e.allowCreate),popupContainer:e.popupContainer,onPopupVisibleChange:M},e.triggerProps),{default:()=>{var t,o;return[null!=(o=null==(t=l.trigger)?void 0:t.call(l))?o:C(wt,T({class:x,modelValue:Se.value,inputValue:Q.value,multiple:e.multiple,disabled:$.value,error:V.value,loading:e.loading,allowClear:e.allowClear,allowCreate:e.allowCreate,allowSearch:Boolean(e.allowSearch),opened:E.value,maxTagCount:e.maxTagCount,placeholder:e.placeholder,bordered:e.bordered,size:w.value,onInputValueChange:oe,onRemove:ie,onClear:de,onKeydown:he},n),{label:we,prefix:l.prefix,"arrow-icon":l["arrow-icon"],"loading-icon":l["loading-icon"],"search-icon":l["search-icon"]})]},content:xe})}});e("S",Object.assign(_t,{Option:bl,OptGroup:Vt,install:(e,l)=>{O(e,l);const t=x(l);e.component(t+_t.name,_t),e.component(t+bl.name,bl),e.component(t+Vt.name,Vt)}}))}}}));
